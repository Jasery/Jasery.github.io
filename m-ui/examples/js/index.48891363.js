(function(e){function t(t){for(var n,r,a=t[0],l=t[1],c=t[2],d=0,m=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],n=!0,a=1;a<i.length;a++){var l=i[a];0!==o[l]&&(n=!1)}n&&(s.splice(t--,1),e=r(r.s=i[0]))}return e}var n={},o={index:0},s=[];function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/mcwebfe-deps/m-ui/pages/examples/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=l;s.push([1,"chunk-vendors"]),i()})({0:function(e,t){},"0234":function(e,t,i){"use strict";i("3d1e")},"0b4b":function(e,t,i){"use strict";i("6a9a")},"0c36":function(e,t,i){},"0cb0":function(e,t,i){e.exports=i.p+"img/firefox.2e79bdf1.svg"},1:function(e,t,i){e.exports=i("c31f")},"10a2":function(e,t,i){"use strict";i("8fba")},"12c5":function(e,t,i){"use strict";i("f77a")},"140f":function(e,t,i){},1641:function(e,t,i){e.exports=i.p+"img/empty.d42862a2.svg"},1820:function(e,t,i){"use strict";i("8b3e")},"1b92":function(e,t,i){},"1c25":function(e,t,i){},2:function(e,t){},3:function(e,t){},"30d1":function(e,t,i){},"3b58":function(e,t,i){e.exports=i.p+"img/500.0f1b816d.svg"},"3b73":function(e,t,i){"use strict";i("9c61")},"3bc4":function(e,t,i){"use strict";i("0c36")},"3c81":function(e,t,i){},"3d1e":function(e,t,i){},"436a":function(e,t,i){"use strict";i("8b6d")},"451b":function(e,t,i){"use strict";i("1b92")},"4bba":function(e,t,i){"use strict";i("7f06")},5391:function(e,t,i){"use strict";i("829d")},5717:function(e,t,i){},"5a39":function(e,t,i){},"5cba":function(e,t,i){e.exports=i.p+"img/chrome.0084e63a.svg"},"5cbe":function(e,t,i){"use strict";i("30d1")},"5f94":function(e,t,i){},6625:function(e,t,i){},6819:function(e,t,i){"use strict";i("e7f5")},6970:function(e,t,i){"use strict";i("140f")},"698f":function(e,t,i){},"6a9a":function(e,t,i){},"6abd":function(e,t,i){"use strict";i("ab00")},7202:function(e,t,i){},"7cf3":function(e,t,i){"use strict";i("3c81")},"7e30":function(e,t,i){"use strict";i("6625")},"7f06":function(e,t,i){},"829d":function(e,t,i){},8501:function(e,t,i){},"8b3e":function(e,t,i){},"8b6d":function(e,t,i){},"8fba":function(e,t,i){},9059:function(e,t,i){},9291:function(e,t,i){"use strict";i("1c25")},9995:function(e,t,i){},"9c61":function(e,t,i){},a1d8:function(e,t,i){e.exports=i.p+"img/logo.3a3dd51a.png"},a544:function(e,t,i){"use strict";i("698f")},a7e3:function(e,t,i){"use strict";i("5f94")},aa66:function(e,t,i){e.exports=i.p+"img/404.24b5f2b4.svg"},ab00:function(e,t,i){},b0ea:function(e,t,i){"use strict";i("8501")},c31f:function(e,t,i){"use strict";i.r(t);var n={};i.r(n),i.d(n,"unixToDate",(function(){return x})),i.d(n,"dateToUnix",(function(){return S})),i.d(n,"removeItem",(function(){return k})),i.d(n,"setLocalStore",(function(){return $})),i.d(n,"getLocalStore",(function(){return N})),i.d(n,"removeLocalStore",(function(){return M})),i.d(n,"isString",(function(){return B})),i.d(n,"isNumber",(function(){return D})),i.d(n,"isUndefined",(function(){return A})),i.d(n,"isFunction",(function(){return O})),i.d(n,"gid",(function(){return E})),i.d(n,"isEmpty",(function(){return F})),i.d(n,"eachTree",(function(){return z})),i.d(n,"filterTree",(function(){return P})),i.d(n,"findTreeNode",(function(){return T})),i.d(n,"parseStyleNum",(function(){return j})),i.d(n,"delay",(function(){return I})),i.d(n,"objEach",(function(){return L})),i.d(n,"log",(function(){return V})),i.d(n,"removeKeys",(function(){return R})),i.d(n,"initMicroApp",(function(){return q})),i.d(n,"resolveResource",(function(){return W}));var o=i("2b0e"),s=i("5c96"),r=i.n(s),a=(i("0fae"),function(){var e=this,t=e._self._c;return t("el-select",e._g(e._b({ref:"select",staticClass:"m-select",attrs:{value:e.value,size:e.size,clearable:e.clearable,filterable:e.filterable},scopedSlots:e._u([{key:"prefix",fn:function(){return[e._t("prefix")]},proxy:!0},{key:"empty",fn:function(){return[e._t("empty")]},proxy:!0}],null,!0)},"el-select",e.$attrs,!1),e.$listeners),[e._t("default"),e._l(e.options,(function(i){return t("el-option",{key:i[e.valueKey],attrs:{value:i[e.valueKey],label:i[e.labelKey],disabled:i[e.disabledKey]}})})),e._t("after")],2)}),l=[],c={name:"MSelect",props:{value:[Number,String,Array],options:Array,valueKey:{type:String,default:"value"},labelKey:{type:String,default:"label"},disabledKey:{type:String,default:"disabled"},size:{type:String,default:"small"},clearable:{type:Boolean,default:!0},filterable:{type:Boolean,default:!0}},components:{},data(){return{}},computed:{},watch:{},mounted(){},methods:{focus(){var e;return null===(e=this.$refs.select)||void 0===e?void 0:e.focus()},blur(){var e;return null===(e=this.$refs.select)||void 0===e?void 0:e.blur()}}},u=c,d=i("2877"),m=Object(d["a"])(u,a,l,!1,null,"5ff0a15e",null),h=m.exports,p=function(){var e=this,t=e._self._c;return t("el-date-picker",e._g(e._b({ref:"datePicker",staticClass:"m-date-picker",attrs:{size:e.size},scopedSlots:e._u([{key:"range-separator",fn:function(){return[e._t("range-separator")]},proxy:!0}],null,!0),model:{value:e.dateVal,callback:function(t){e.dateVal=t},expression:"dateVal"}},"el-date-picker",{...e.$attrs,"value-format":void 0,"default-time":e._defaultTime,"picker-options":e._pickerOptions},!1),{...e.$listeners,input:e.onInput,change:e.onChange}))},f=[],g=i("5a0c"),b=i.n(g);i("13d5");let v=Object.freeze({});function y(e={}){v=Object.freeze(e)}function _(){return v}let C,w=0;function x(e){return"number"!==typeof e?null:new Date(1e3*e)}function S(e){return e instanceof Date?Math.floor(e.getTime()/1e3):0}function k(e,t){if(!Array.isArray(e))return null;let i=e.findIndex(e=>e===t);return i<0?null:(e.splice(i,1),t)}function $(e,t){localStorage.setItem(e,JSON.stringify(t))}function N(e,t){let i=localStorage.getItem(e);return null===i||void 0===i?t:JSON.parse(i)}function M(e){localStorage.removeItem(e)}function B(e){return"string"===typeof e}function D(e){return Number.isFinite(e)}function A(e){return"undefined"===typeof e}function O(e){return"function"===typeof e}function E(e){return w++,A(e)?w:e.toString()+w}function F(e){for(const t in e)return!1;return!0}function z(e,t,i="children",n){e&&(Array.isArray(e)?e.forEach((e,o)=>{t(e,o,n),z(e[i],t,i,e)}):Array.isArray(e[i])&&z(e[i],t,i,e))}function P(e=[],t,i="children",n=null){let o=e;return Array.isArray(e)?o=e.filter(e=>{try{let o=t(e,n);return o&&e[i]&&(e[i]=P(e[i],t,i,e)),o}catch(o){return console.error("filter tree err",o),!1}}):Array.isArray(e[i])&&(o=P(e[i],t,i,e)),o}function T(e,t,i="children",n=null){if(!e)return null;if(Array.isArray(e))for(const s of e)try{let e=t(s,n);if(e)return s;if(Array.isArray(s[i])){let e=T(s[i],t,i,s);if(e)return e}}catch(o){console.error("error in findTreeNode callback",o)}else if(Array.isArray(e[i]))return T(e[i],t,i,e);return null}function j(e){if(D(e))return e;let t=Number.parseFloat(e);return Number.isNaN(t)?e:t}function I(e){return new Promise(t=>setTimeout(t,e))}function L(e,t){for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const n=t(i,e[i]);if(!1===n)break}}function V(...e){e.length&&(e=e.map(e=>B(e)?e:JSON.stringify(e,null,"  ")),console.log(...e))}function R(e,t){return Object.keys(e).filter(e=>!t.includes(e)).reduce((t,i)=>(t[i]=e[i],t),{})}function H(e="/web/"){return(window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__||"").replace(/\/$/,"")+e}function q(e,t){return window.__POWERED_BY_QIANKUN__||e(),{bootstrap:async()=>{let e=_();return i.p=H(null===e||void 0===e?void 0:e.publicPath),O(null===t||void 0===t?void 0:t.bootstrap)?null===t||void 0===t?void 0:t.bootstrap():null},mount:async i=>(C=e(i),O(null===t||void 0===t?void 0:t.mount)?null===t||void 0===t?void 0:t.mount(i):null),unmount:async e=>(C.$auth&&C.$auth.destroy(),C&&C.$destroy(),O(null===t||void 0===t?void 0:t.unmount)?null===t||void 0===t?void 0:t.unmount(e):null),update:async e=>O(null===t||void 0===t?void 0:t.update)?null===t||void 0===t?void 0:t.update(e):null}}function W(e){if(window.__POWERED_BY_QIANKUN__){const t=_();return H(null===t||void 0===t?void 0:t.publicPath)+e}return e}var K={name:"MDatePicker",props:{value:[Number,Array],size:{type:String,default:"small"},pickerOptions:[Boolean,Object],defaultTime:Array},components:{},data(){return{dateVal:null}},computed:{_defaultTime(){if(this.defaultTime)return this.defaultTime;let e=this.$attrs.type;return e&&e.endsWith("range")?["00:00:00","23:59:59"]:void 0},_pickerOptions(){let e=this.$attrs.type;return e&&e.endsWith("range")?this.pickerOptions&&"boolean"!==typeof this.pickerOptions?this.pickerOptions:this.pickerOptions?this.options:this.pickerOptions:this.pickerOptions},options(){return{firstDayOfWeek:1,shortcuts:[{text:"昨天",onClick:e=>{e.$emit("pick",this.getDateRange("day",-1))}},{text:"本周",onClick:e=>{e.$emit("pick",this.getDateRange("week",0))}},{text:"上周",onClick:e=>{e.$emit("pick",this.getDateRange("week",-1))}},{text:"本月",onClick:e=>{e.$emit("pick",this.getDateRange("month",0))}},{text:"上月",onClick:e=>{e.$emit("pick",this.getDateRange("month",-1))}},{text:"最近7天",onClick:e=>{e.$emit("pick",this.getLatestDayRange(7))}},{text:"最近30天",onClick:e=>{e.$emit("pick",this.getLatestDayRange(30))}},{text:"最近90天",onClick:e=>{e.$emit("pick",this.getLatestDayRange(90))}},{text:"本季度",onClick:e=>{e.$emit("pick",this.getDateRange("quarter",0))}},{text:"上季度",onClick:e=>{e.$emit("pick",this.getDateRange("quarter",-1))}}]}}},watch:{value:{handler(e){this.dateVal=this.valToDate(e)},immediate:!0}},mounted(){},methods:{onChange(e){let t=this.dateToVal(e);this.$emit("change",t)},onInput(e){let t=this.dateToVal(e);this.$emit("input",t)},dateToVal(e){return Array.isArray(e)?e.map(S):e instanceof Date?S(e):e},valToDate(e){return Array.isArray(e)?e.map(x):"number"===typeof e?x(this.value):e},focus(){var e;return null===(e=this.$refs.datePicker)||void 0===e?void 0:e.focus()},getLatestDayRange(e=0){if(e<0&&(e=0),0===e)return[new Date(0),new Date];let t=b()(),i=t.subtract(e,"day");return[i.toDate(),t.toDate()]},getDateRange(e,t=0){let i=b()().startOf(e).add(t,e),n=b()().endOf(e).add(t,e);return[i.toDate(),n.toDate()]}}},Y=K,U=Object(d["a"])(Y,p,f,!1,null,"a3f5dcc8",null),Q=U.exports;i("14d9"),i("d9e2");const J={defaultAuth:!0};class X{constructor(e={}){this.__options=Object.assign({},J,e),this.__authData=null,this.__listeners=new Map}subscribe(e,t){if(this.__listeners.has(e)){let i=this.__listeners.get(e);i.push(t)}else this.__listeners.set(e,[t]);this.__authData&&this._callSubscribe(e,t)}_callSubscribe(e,t){let i=(e,t,...i)=>{try{e.call(t,...i)}catch(n){console.error("error in auth subscribe",n)}};if(t)i(t,e,this);else{let t=this.__listeners.get(e)||[];for(let n of t)i(n,e,this)}}unsubscribe(e,t){if(this.__listeners.has(e))if(t){let i=this.__listeners.get(e).filter(e=>e!==t);i.length?this.__listeners.set(e,i):this.__listeners.delete(e)}else this.__listeners.delete(e)}setAuth(e){this.__authData=e;for(let[t]of this.__listeners)this._callSubscribe(t)}checkAuth(e){if(!this.__authData)return this.__options.defaultAuth;if("string"!==typeof e)throw new Error("auth key must be string");let t=e.split(".");if(!t.length)return!0;let i=this.__authData;for(let n of t){if(!i[n])return!1;i=i[n]}return!0}hasSetAuth(){return!!this.__authData}destroy(){var e;this.__options=null,this.__authData=null,null===(e=this.__listeners)||void 0===e||e.clear(),this.__listeners=null}}const G="__AUTH_SCOPE__",Z=e=>"string"===typeof e[G];function ee(e){let t=e;while(t){if(Z(t))return t[G];t=t.parentNode}return""}function te(e,t){let i=e[G]?ee(e):"",n=t;return"string"===typeof n&&(n=[n]),n.map(e=>i?`${i}.${e}`:e)}function ie(e,t,i){let n=t.some(e=>i.checkAuth(e));if(n){if(e.commentNode){let t=e.commentNode.parentNode;t.insertBefore(e,e.commentNode),t.removeChild(e.commentNode),delete e.commentNode}}else if(!e.commentNode){let t=document.createComment("v-auth");e.commentNode=t,e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e)}}function ne(e,t,i){let{arg:n,value:o}=t;if(n)"scope"===n&&o&&i.subscribe(e,(function(){ie(e,[o],i)}));else{let t=te(e,o);i.subscribe(e,(function(){ie(e,t,i)}))}}var oe=function(e){return{bind(e,t){let{arg:i,value:n}=t;"scope"===i&&(e[G]=n||!0)},inserted(t,i){ne(t,i,e)},update(t,i){let{arg:n,value:o,oldValue:s}=i;o!==s&&(n?"scope"===n&&(t[G]=o):ne(t,i,e))},unbind(t){e.unsubscribe(t),t[G]&&delete t[G]}}};var se={install(e){const t=_(),i=new X(null===t||void 0===t?void 0:t.auth);e.prototype.$auth=i,e.directive("auth",oe(i))}},re=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-checkbox-group"},[e.single?t("el-radio-group",e._g(e._b({attrs:{size:e.size}},"el-radio-group",e.$attrs,!1),e.$listeners),[e._t("default"),e._l(e.options,(function(i){return t(e.buttonStyle?"el-radio-button":"el-radio",{key:i[e.valueKey],tag:"component",attrs:{label:i[e.valueKey],disabled:i[e.disabledKey]}},[e._v(" "+e._s(i[e.labelKey])+" ")])}))],2):t("el-checkbox-group",e._g(e._b({attrs:{size:e.size}},"el-checkbox-group",e.$attrs,!1),e.$listeners),[e._t("default"),e._l(e.options,(function(i){return t(e.buttonStyle?"el-checkbox-button":"el-checkbox",{key:i[e.valueKey],tag:"component",attrs:{label:i[e.valueKey],disabled:i[e.disabledKey]}},[e._v(" "+e._s(i[e.labelKey])+" ")])}))],2)],1)},ae=[],le={name:"MCheckboxGroup",inheritAttrs:!1,props:{single:Boolean,options:{type:Array},size:{type:String,default:"small"},buttonStyle:{type:Boolean,default:!1},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"},disabledKey:{type:String,default:"disabled"}},components:{},data(){return{}},computed:{},watch:{},mounted(){},methods:{}},ce=le,ue=(i("0b4b"),Object(d["a"])(ce,re,ae,!1,null,"cc8e8898",null)),de=ue.exports,me=i("ade3");class he{static getProps(e){return this.__props&&this.__props[e]}static getProp(e,t){let i=this.getProps(e);return i?i[t]:null}static getEntities(){return Object.keys(this).filter(e=>"function"!==typeof this[e]&&!e.startsWith("_")).map(e=>({key:e,value:this[e],props:this.getProps(this[e]),label:this.getLabel(this[e])}))}static getEnumObject(){let e={};for(let t of this.getEntities())e[t.key]=t.value;return Object.freeze(e)}static getLabel(e){let t=this.getProps(e);return t&&t.label}static isEnum(e){return this.getEntities().some(t=>t.value===e)}}Object(me["a"])(he,"__props",void 0);var pe=function(){var e=this,t=e._self._c;return t("el-pagination",e._g(e._b({staticClass:"m-pagination",attrs:{background:e.background,layout:e.layout,"page-sizes":e.pageSizes,"page-size":e.pageSize,"current-page":e.currentPage}},"el-pagination",e.$attrs,!1),{...e.$listeners,"size-change":e.onSizeChange,"current-change":e.onCurrentChange}),[e._t("default")],2)},fe=[],ge={name:"MPagination",props:{layout:{type:String,default:"total, prev, pager, next, sizes, jumper"},pageSizes:{type:Array,default(){return["30","50","100"]}},pageSize:{type:Number,default:30},currentPage:{type:Number,required:!0},background:{type:Boolean,default:!0}},methods:{onSizeChange(e){this.$emit("size-change",e),this.$emit("page-change",this.currentPage,e)},onCurrentChange(e){this.$emit("current-change",e),this.$emit("page-change",e,this.pageSize)}}},be=ge,ve=(i("7cf3"),Object(d["a"])(be,pe,fe,!1,null,"02ff850c",null)),ye=ve.exports,_e=i("2ef0"),Ce=i.n(_e);function we(e){return function(){let{top:t}=e.getBoundingClientRect(),i=e.fixedBottomConfig.bottom||0,n=window.innerHeight-t-i;e.style.height=n+"px"}}var xe={inserted:function(e,t){if(!Ce.a.isNumber(t.value))return void console.error("directive:v-fixed-bottom value is not a number");let i=t.value;e.fixedBottomConfig={bottom:i,fixedFunc:we(e)},e.fixedBottomConfig.fixedFunc(),window.addEventListener("resize",e.fixedBottomConfig.fixedFunc)},unbind:function(e){e.fixedBottomConfig&&Ce.a.isFunction(e.fixedBottomConfig.fixedFunc)&&window.removeEventListener("resize",e.fixedBottomConfig.fixedFunc)},update:function(e,t){if(!Ce.a.isNumber(t.value))return void console.error("directive:v-fix-bottom value is not a number");let i=t.value;if(e.fixedBottomConfig){if(e.fixedBottomConfig.bottom===i)return;e.fixedBottomConfig.bottom=i,e.fixedBottomConfig.fixedFunc()}else e.fixedBottomConfig={bottom:i,fixedFunc:we(e)},e.fixedBottomConfig.fixedFunc(),window.addEventListener("resize",e.fixedBottomConfig.fixedFunc)}};function Se(e,t,i){"number"===typeof i&&(i+="px"),e.style[t]=i}function ke(e){let t;switch(e){case"l":case"left":t=["left"];break;case"r":case"right":t=["right"];break;case"t":case"top":t=["top"];break;case"b":case"bottom":t=["bottom"];break;case"h":case"horizontal":t=["left","right"];break;case"v":case"vertical":t=["top","bottom"];break;case"f":case"full":t=["top","bottom","left","right"];break;default:t=["top","bottom","left","right"];break}return t}function $e(e,t,i,n){let o=ke(i).map(e=>Ce.a.camelCase(`${t}-${e}`));for(let s of o)Se(e,s,n)}var Ne={bind(){},inserted(e,{value:t,arg:i}){$e(e,"margin",i,t)},update(e,{value:t,oldValue:i,arg:n}){t!==i&&$e(e,"margin",n,t)},unbind(){}},Me={bind(){},inserted(e,{value:t,arg:i}){$e(e,"padding",i,t)},update(e,{value:t,oldValue:i,arg:n}){t!==i&&$e(e,"padding",n,t)},unbind(){}},Be={bind(){},inserted(e,{value:t}){Se(e,"color",t)},update(e,{value:t,oldValue:i}){t!==i&&Se(e,"color",t)},unbind(){}},De={bind(){},inserted(e,{value:t}){Se(e,"backgroundColor",t)},update(e,{value:t,oldValue:i}){t!==i&&Se(e,"backgroundColor",t)},unbind(){}},Ae={bind(){},inserted(e,{value:t}){Se(e,"height",t)},update(e,{value:t,oldValue:i}){t!==i&&Se(e,"height",t)},unbind(){}},Oe={bind(){},inserted(e,{value:t}){Se(e,"width",t)},update(e,{value:t,oldValue:i}){t!==i&&Se(e,"width",t)},unbind(){}},Ee={install(e){e.directive("fixed-bottom",xe),e.directive("margin",Ne),e.directive("padding",Me),e.directive("color",Be),e.directive("bgColor",De),e.directive("height",Ae),e.directive("width",Oe)}},Fe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-table"},[t("el-table",e._g(e._b({directives:[{name:"el-table-infinite-scroll",rawName:"v-el-table-infinite-scroll",value:e.load,expression:"load"},{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],ref:"table",class:e.elTableClass,attrs:{height:e.tableHeight,"header-row-class-name":e.headerRowClass,"infinite-scroll-disabled":e.noMore,"infinite-scroll-distance":e.infiniteScrollDistance,"infinite-scroll-immediate":!1},scopedSlots:e._u([{key:"append",fn:function(){return[e.noMore?t("div",{directives:[{name:"padding",rawName:"v-padding",value:20,expression:"20"}],staticStyle:{"text-align":"center"}},[e._v(" 没有更多了 ")]):t("div",{directives:[{name:"show",rawName:"v-show",value:e.scrollLoading,expression:"scrollLoading"},{name:"loading",rawName:"v-loading",value:e.scrollLoading,expression:"scrollLoading"}],staticStyle:{height:"50px"}})]},proxy:!0},{key:"empty",fn:function(){return[t("div",{staticClass:"empty-container"},[t("img",{attrs:{src:e.emptySvg,alt:"no data",width:"250"}}),t("span",[e._v(e._s(e.$attrs["empty-text"]||"暂无数据"))])])]},proxy:!0}])},"el-table",e.$attrs,!1),e.$listeners),[e._t("default"),e._l(e.columns,(function(i,n){return t("el-table-column",e._b({key:n,scopedSlots:e._u([i.headerSlotName||i.headerTips?{key:"header",fn:function(n){return[i.headerSlotName?e._t(i.headerSlotName,null,null,n):e._e(),i.headerTips?t("span",[e._v(" "+e._s(i.label)+" "),t("el-tooltip",{attrs:{content:i.headerTips,placement:"top"}},[t("i",{staticClass:"el-icon-info cur-p"})])],1):e._e()]}}:null,i.slotName?{key:"default",fn:function(t){return[e._t(i.slotName,null,null,t)]}}:i.component?{key:"default",fn:function(n){return[t(i.component,e._g(e._b({tag:"component"},"component",{...n,...i.componentProps},!1),i.componentEvents))]}}:null],null,!0)},"el-table-column",e.getColumnProps(i),!1))}))],2),e.pagination?t("m-pagination",e._g({attrs:{"page-size":e.pageSize,"current-page":e.currentPage,total:e.total}},{"update:pageSize":t=>e.$emit("update:pageSize",t),"update:currentPage":t=>e.$emit("update:currentPage",t),"page-change":(t,i)=>e.$emit("page-change",t,i),"size-change":t=>e.$emit("size-change",t),"current-change":t=>e.$emit("current-change",t)})):e._e()],1)},ze=[],Pe=i("521e"),Te=i("b7f5"),je=(i("7da8"),i("4010")),Ie=i("1641"),Le=i.n(Ie),Ve={name:"MTable",inheritAttrs:!1,props:{pagination:Boolean,currentPage:Number,pageSize:Number,total:Number,tableLoading:Boolean,columns:Array,infiniteScroll:Boolean,infiniteScrollDistance:{type:Number,default:150},scrollLoading:Boolean,noMore:Boolean,fixedBottom:Number,height:{type:[Number,String],default:"auto"},headerRowClassName:{type:String,default:""},size:{type:String,default:"default",validator(e){return["default","middle","small"].includes(e)}},perfectScroll:Boolean,scrollContainer:{type:String,default:".main-container"},topSummary:{type:Boolean,default:!0}},components:{MPagination:ye},directives:{ElTableInfiniteScroll:Pe["a"],padding:Me},data(){return{tableHeight:this.height,emptySvg:Le.a}},computed:{headerRowClass(){return this.headerRowClassName+" m-table-header"},isFixedBottom(){return D(this.fixedBottom)},elTableClass(){let e=["size-"+this.size];return!1!==this.$attrs["show-summary"]&&this.topSummary&&e.push(["top-summary"]),e}},watch:{noMore:"updateInfiniteScrollAttr",infiniteScrollDistance:"updateInfiniteScrollAttr",height(){this.tableHeight=this.height},fixedBottom:"setTableHeight","$attrs.data":"setTableHeight",columns:"setTableHeight"},mounted(){this.bodyWrapper=this.$el.querySelector(".el-table__body-wrapper"),this.isFixedBottom&&this.initFixedBottom(),this.perfectScroll&&this.initPerfectScrollBar()},methods:{load(){!this.infiniteScroll||this.scrollLoading||this.tableLoading||this.$emit("scroll-load")},updateInfiniteScrollAttr(){let e=this.bodyWrapper;e&&(e.setAttribute("infinite-scroll-disabled",this.infiniteScrollDisabled),e.setAttribute("infinite-scroll-distance",this.infiniteScrollDistance))},getElTable(){return this.$refs.table},setTableHeight(){this.isFixedBottom?this.$nextTick(()=>{let{top:e}=this.$refs.table.$el.getBoundingClientRect();this.tableHeight=window.innerHeight-e-this.fixedBottom+Math.random()}):this.tableHe=this.height},getColumnProps(e){let t=e.formatter;return e.slotName||e.component||!e.prop||!1===e.formatEmpty||(t=(t,i,n,o)=>O(e.formatter)?e.formatter(t,i,n,o):void 0===n||null===n?e.emptyText||"---":n),{...R(e,["slotName","headerSlotName","component","componentProps","componentEvents"]),formatter:t}},initPerfectScrollBar(){this.bodyWrapper.style.overflow="hidden";let e=new Te["a"](this.bodyWrapper),t=document.querySelector(this.scrollContainer),i=()=>{const e=this.$el.querySelector(".ps__rail-x"),t=e.clientHeight,i=this.bodyWrapper.getBoundingClientRect(),n=window.innerHeight-i.top-t+this.bodyWrapper.scrollTop,o=this.bodyWrapper.scrollTop+i.height-t;let s=Ce.a.min([o,n]);e.style.top=s+"px"};i=Ce.a.throttle(i,10),t&&t.addEventListener("scroll",i),this.bodyWrapper.addEventListener("scroll",i),Object(je["addResizeListener"])(this.$el,i),this.$on("hook:updated",()=>{e.update()}),this.$on("hook:beforeDestroy",()=>{Object(je["removeResizeListener"])(this.$el,i),t&&t.removeEventListener("scroll",i),e.destroy(),e=null})},initFixedBottom(){let e=Ce.a.throttle(this.setTableHeight.bind(this),10);window.addEventListener("resize",e),this.$once("hook:beforeDestroy",()=>{window.removeEventListener("resize",e)}),this.$nextTick(e)}}},Re=Ve,He=(i("10a2"),Object(d["a"])(Re,Fe,ze,!1,null,"7a75906e",null)),qe=He.exports,We=i("b311"),Ke=i.n(We);function Ye(e,t){e._vClipboard_container&&(t={...t,container:document.querySelector(e._vClipboard_container)});let i=new Ke.a(e,t);i.on("success",(function(t){t.clearSelection();let i=e._vClipboard_success;i&&i(t)})),i.on("error",(function(t){t.clearSelection();let i=e._vClipboard_error;i&&i(t)})),e._vClipboard=i}function Ue({action:e,target:t,text:i}){let n={action:Qe(e)};return t&&(n.target=()=>t instanceof HTMLElement?t:document.querySelector(t)),i&&(n.text=()=>i),n}function Qe(e){return()=>"cut"===e?"cut":"copy"}function Je(e,t){const i=e._vClipboard;i&&(t.action&&(i.action=Qe(t.action)),t.text&&(i.text=()=>t.text),t.target&&(i.target=()=>document.querySelector(t.target)),t.success&&(e._vClipboard_success=t.success),t.error&&(e._vClipboard_error=t.error))}var Xe={bind(e,t){let{arg:i,value:n,modifiers:o}=t,s=o.cut?"cut":"copy",r=null;switch(i){case"success":e._vClipboard_success=t.value;break;case"error":e._vClipboard_error=t.value;break;case"container":e._vClipboard_container=n;break;case"text":r=Ue({action:s,text:n}),Ye(e,r);break;case"target":r=Ue({action:s,target:n}),Ye(e,r);break;default:r=B(n)&&document.querySelector(n)?Ue({action:s,target:n}):Ue({action:s,text:n}),Ye(e,r);break}},update(e,t){let{arg:i,value:n,oldValue:o}=t;n!==o&&(i||(i=B(n)&&document.querySelector(n)?"target":"text"),Je(e,{[i]:n}))},unbind(e,t){"success"===t.arg?delete e._vClipboard_success:"error"===t.arg?delete e._vClipboard_error:e._vClipboard&&(e._vClipboard.destroy(),delete e._vClipboard)}},Ge={install(e){e.directive("clipboard",Xe),e.prototype.$copyText=function(e){return new Promise((t,i)=>{const n=document.createElement("button");let o={action:()=>"copy"};B(e)?o.text=()=>e:("cut"===e.action&&(o.action=()=>"cut"),e.text&&(o.text=()=>e.text),e.target&&(o.target=()=>e.target instanceof HTMLElement?e.target:document.querySelector(e.target)),e.container&&(o.container=e.container instanceof HTMLElement?e.container:document.querySelector(e.container)));const s=new Ke.a(n,o);s.on("success",e=>{e.clearSelection(),s.destroy(),t(e)}),s.on("error",e=>{e.clearSelection(),s.destroy(),i(e)}),n.click()})}}},Ze=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-editable-text"},[e.multiLine?t("pre",{ref:"content",class:{placeholder:!e.value&&!e.isFocus},style:{minWidth:e.minWidth},attrs:{contenteditable:!e.disabled},domProps:{innerHTML:e._s(e.displayText)},on:{blur:e.onBlur,focus:e.onFocus}}):t("span",{ref:"content",class:{placeholder:!e.value&&!e.isFocus},style:{minWidth:e.minWidth},attrs:{contenteditable:!e.disabled},domProps:{textContent:e._s(e.displayText)},on:{blur:e.onBlur,focus:e.onFocus,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onConfirm.apply(null,arguments)}}})])},et=[],tt=i("2a95"),it={name:"MEditableText",props:{value:[String,Number],multiLine:Boolean,disabled:Boolean,rules:Array,placeholder:{type:String,default:"请输入"}},components:{},data(){return{editValue:this.value,minWidth:"",isFocus:!1}},computed:{displayText(){return this.isFocus?this.value:this.placeholder&&!this.value?this.placeholder:this.value}},watch:{value(){this.editValue=this.value}},mounted(){let e=this.$refs.content,t=new MutationObserver(this.contentChange.bind(this)),i={childList:!0};t.observe(e,i),this.$once("hook:beforeDestroy",()=>{t.disconnect(),t=null}),this.minWidth=this.getMinWidth()},methods:{onBlur(){this.isFocus=!1;let e=this.getEditContent();this.validate(e).then(()=>{this.$emit("validate",null),this.$emit("save",e)}).catch(({errors:e})=>{let t=e[0],i=t instanceof Error?t.message:t;this.$emit("validate",i),this.$refs.content.innerText=this.displayText})},onFocus(){this.isFocus=!0},validate(e){if(!this.rules||!this.rules.length)return Promise.resolve(!0);let t="value";const i={[t]:this.rules},n=new tt["a"](i),o={[t]:e};return n.validate(o,{firstFields:!0})},onConfirm(){this.$refs.content.blur()},getEditContent(){return this.$refs.content.innerText.trim()},contentChange(e){for(let t of e)"childList"===t.type&&(this.editValue=this.getEditContent())},getMinWidth(){if(!this.$refs.content)return"";let e=getComputedStyle(this.$refs.content)["font-size"];return e=j(e),e*this.placeholder.length+"px"}}},nt=it,ot=(i("6819"),Object(d["a"])(nt,Ze,et,!1,null,"53dc21b5",null)),st=ot.exports,rt=function(){var e=this,t=e._self._c;return t("el-form",e._b({ref:"form",staticClass:"m-query-form",attrs:{inline:"",size:"small",model:e.model}},"el-form",e.$attrs,!1),[t("el-row",{staticClass:"query-form-content",attrs:{gutter:20}},[e._l(e.filterFormItems(),(function(i,n){return t("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isFormItemShow(n),expression:"isFormItemShow(index)"}],key:n,attrs:{span:e.colSpan}},[i.slot?t("v-node",{attrs:{content:i.slot}}):t("el-form-item",e._b({scopedSlots:e._u([i.labelSlotName?{key:"label",fn:function(){return[e._t(i.labelSlotName)]},proxy:!0}:null],null,!0)},"el-form-item",e.getFormItemProps(i),!1),[[i.slotName?e._t(i.slotName):i.component?t(i.component,e._g(e._b({tag:"component",model:{value:e.model[i.prop],callback:function(t){e.$set(e.model,i.prop,t)},expression:"model[field.prop]"}},"component",i.componentProps,!1),i.componentEvents)):e._e()]],2)],1)})),t("el-col",{attrs:{span:e.colSpan,offset:e.colSpan*e.btnContainerOffset}},[t("el-form-item",{staticClass:"btn ta-r",attrs:{label:""}},[t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.collapseVisible,expression:"collapseVisible"}],attrs:{type:"text"},on:{click:e.onCollapse}},[e._v(" "+e._s(e.collapse?"展开":"收起")+" "),t("i",{class:{"el-icon-arrow-down":e.collapse,"el-icon-arrow-up":!e.collapse}})]),e.showReset?t("el-button",{on:{click:e.onReset}},[e._v("重置")]):e._e(),e.showSubmit?t("el-button",{attrs:{loading:e.submitLoading,type:"primary"},on:{click:e.onSumit}},[e._v("查询")]):e._e(),e._t("tools")],2)],1)],2)],1)},at=[],lt={name:"MQueryForm",props:{model:Object,collapseable:{type:Boolean,default:!0},defaultCollapse:{type:Boolean,default:!0},submitLoading:Boolean,fields:{type:Array,default(){return[]}},showSubmit:{type:Boolean,default:!0},showReset:{type:Boolean,default:!0}},components:{VNode:{functional:!0,render:(e,t)=>t.props.content}},data(){return{collapse:this.defaultCollapse&&this.collapseable,col:3}},computed:{colSpan(){return 24/this.col},btnContainerOffset(){let e=this.filterFormItems().length,t=this.collapse?this.col-1:e;t=Ce.a.min([t,e]);let i=this.col-t%this.col-1;return i},collapseVisible(){let e=this.filterFormItems().length;return!(e<this.col)&&this.collapseable}},mounted(){this.formResize=()=>{this.onFormResize()},Object(je["addResizeListener"])(this.$refs.form.$el,this.formResize)},beforeDestroy(){Object(je["removeResizeListener"])(this.$refs.form.$el,this.formResize),delete this.formResize},methods:{onCollapse(){this.collapse=!this.collapse,this.$emit("collapse",this.collapse)},filterFormItems(){return this.fields.concat((this.$slots.default||[]).filter(e=>e.tag).map(e=>({slot:e})))},getFormItemProps(e){return R(e,["slotName","labelSlotName","component","componentProps","componentEvents"])},isFormItemShow(e){return e<this.col-1||!this.collapse},onFormResize(){let{width:e}=this.$refs.form.$el.getBoundingClientRect();this.col=e<500?1:e<950?2:e<1400?3:4},onReset(){this.$refs.form.resetFields(),this.onSumit()},onSumit(){this.$emit("submit",this.model)}}},ct=lt,ut=(i("b0ea"),Object(d["a"])(ct,rt,at,!1,null,"5f06a63a",null)),dt=ut.exports,mt=function(){var e=this,t=e._self._c;return t("div",{class:["m-layout",{animate:e.animate,dark:e.isDarkMode,light:!e.isDarkMode}],style:{height:e.getNumStyle(e.height)}},[e.$slots.header||e.accountInfo?t("header",{staticClass:"header-container",class:{"hide-header":!e.hasHeader},style:e.headerStyle},[e.showLogo?t("div",{staticClass:"logo-container",on:{click:e.onLogoClick}},[t("img",{staticClass:"logo-img",attrs:{src:e.logo}}),t("h1",{staticClass:"title"},[e._v(e._s(e.appName))])]):e._e(),t("div",{staticClass:"header"},[e._t("header")],2),e.accountInfo?t("div",{staticClass:"account-container"},[t("span",{staticClass:"account-name"},[e._v(e._s(e.accountInfo&&e.accountInfo.account))]),t("el-button",{attrs:{type:"text"},on:{click:e.onLogout}},[e._v("退出")])],1):e._e()]):e._e(),e.$slots.aside||e.menus?t("aside",{staticClass:"aside-container",class:{"hide-header":!e.hasHeader,"hide-aside":!e.hasAside,collapse:e.collapse},style:e.asideStyle},[e.$slots.aside?e._t("aside"):e._e(),e.menus?t("div",{staticClass:"menu-wrapper"},[t("el-menu",e._b({attrs:{"default-active":e.menuDefaultActive,collapse:e.collapse,"collapse-transition":e.animate,"background-color":e.menuBgColor,"text-color":e.menuTextColor,"active-text-color":e.menuActiveTextColor},on:{select:(t,i)=>e.$emit("menu-select",t,i)}},"el-menu",e.menuConfig,!1),[e._l(e.menus,(function(i){return[t("m-submenu",{key:i.index,attrs:{menu:i},scopedSlots:e._u([{key:"menu-item",fn:function(t){return[e._t("menu-item",null,null,t)]}}],null,!0)})]}))],2)],1):e._e(),e.showCollapseIcon?t("i",{class:["collapse-icon","el-icon-s-fold",{collapse:e.collapse}],on:{click:function(t){return e.$emit("update:collapse",!e.collapse)}}}):e._e(),e.showAsideToggleTag?t("div",{staticClass:"toggle-tag"},[t("div",{staticClass:"tag",on:{click:function(t){return e.$emit("update:showAside",!e.showAside)}}},[t("i",{staticClass:"el-icon-arrow-left icon",class:{hide:!e.showAside}})])]):e._e()],2):e._e(),t("main",{staticClass:"main-container",class:{"hide-header":!e.hasHeader,"hide-aside":!e.hasAside,collapse:e.collapse}},[e._t("default")],2)])},ht=[],pt=i("a1d8"),ft=i.n(pt),gt=function(){var e=this,t=e._self._c;return t("div",[e.menu.submenus?t("el-submenu",e._b({},"el-submenu",e.menu,!1),[t("template",{slot:"title"},[e._t("menu-item",(function(){return[e.menu.icon?t("i",{class:e.menu.icon}):e._e(),t("span",[e._v(e._s(e.menu.title))])]}),null,e.menu)],2),e._l(e.menu.submenus,(function(i){return t("m-submenu",{key:i.index,attrs:{menu:i},scopedSlots:e._u([{key:"menu-item",fn:function(t){return[e._t("menu-item",null,null,t)]}}],null,!0)})}))],2):t("el-menu-item",e._b({},"el-menu-item",e.menu,!1),[t("template",{slot:"title"},[e._t("menu-item",(function(){return[e.menu.icon?t("i",{class:e.menu.icon}):e._e(),t("span",[e._v(e._s(e.menu.title))])]}),null,e.menu)],2)],2)],1)},bt=[],vt={name:"MSubmenu",props:{menu:{type:Object,default(){return{}}}}},yt=vt,_t=Object(d["a"])(yt,gt,bt,!1,null,null,null),Ct=_t.exports,wt={name:"MLayout",components:{MSubmenu:Ct},props:{height:{type:[Number,String],default:"100vh"},collapse:Boolean,showAside:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},animate:{type:Boolean,default:!0},themeColor:{type:String,default:"#373d41"},theme:{type:String,default:"dark",validate(e){return["dark","light"].includes(e)}},menus:Array,menuDefaultActive:String,menuConfig:{type:Object,default(){return{textColor:"#fff",backgroundColor:"#41485d"}}},showCollapseIcon:{type:Boolean,default:!0},showAsideToggleTag:Boolean,logo:{type:String,default:W(ft.a)},appName:{type:String,default:"后台名称"},showLogo:{type:Boolean,default:!0},accountInfo:{type:Object}},data(){return{}},computed:{hasHeader(){return this.showHeader&&!!this.$slots.header||this.accountInfo},hasAside(){return this.showAside&&!(!this.$slots.aside&&!this.menus)},isDarkMode(){return"dark"===this.theme},asideStyle(){return{backgroundColor:this.isDarkMode?this.themeColor:"#fff"}},headerStyle(){return{backgroundColor:this.themeColor}},menuBgColor(){return this.isDarkMode?this.themeColor:"#fff"},menuTextColor(){return this.isDarkMode?"#ccc":"#555"},menuActiveTextColor(){return this.isDarkMode?"#fff":"#1890FF"}},mounted(){},methods:{getNumStyle(e){return D(e)?e+"px":e},onLogoClick(){this.$router&&this.$router.push("/")},onLogout(){this.$emit("logout")}}},xt=wt,St=(i("d821"),Object(d["a"])(xt,mt,ht,!1,null,"5f974f00",null)),kt=St.exports,$t=function(){var e=this,t=e._self._c;return t("div",{class:["m-pro-table",{fullscreen:e.isFullscreen}]},[e.$slots.query||e.queryFields?t("div",{staticClass:"query-form-wrapper"},[t("m-query-form",e._b({attrs:{model:e.queryModel,submitLoading:e.loading,fields:e.queryFields},on:{submit:e.fetchData,collapse:e.onQueryFormCollapse},scopedSlots:e._u([{key:"tools",fn:function(){return[e._t("query-tools")]},proxy:!0}],null,!0)},"m-query-form",e.queryFormProps,!1),[e._t("query")],2)],1):e._e(),t("div",{staticClass:"table-wrapper"},[t("div",{staticClass:"table-title-conatiner"},[t("div",[e._t("title",(function(){return[t("h1",[e._v(e._s(e.title))])]}))],2),t("div",{staticClass:"tools"},[e._t("tools"),e.showRefresh?t("el-tooltip",{attrs:{content:"刷新",placement:"top"}},[t("i",{staticClass:"el-icon-refresh fs-22 mg-l-8 cur-p",on:{click:e.fetchData}})]):e._e(),e.showSize?t("el-dropdown",{attrs:{trigger:"click"},on:{command:t=>e.tableSize=t}},[t("el-tooltip",{attrs:{content:"密度",placement:"top"}},[t("i",{staticClass:"el-icon-d-caret fs-22 mg-l-8 cur-p"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.sizes,(function(i){return t("el-dropdown-item",{key:i.size,attrs:{command:i.size}},[e._v(e._s(i.label))])})),1)],1):e._e(),e.columnSetting?t("table-column-setting",{attrs:{columns:e.columns,"cache-key":e.columnCacheKey},on:{change:e.onColumnChange}}):e._e(),e.showFullscreen?t("el-tooltip",{attrs:{content:"全屏",placement:"top"}},[t("i",{staticClass:"el-icon-full-screen fs-22 mg-l-8 cur-p",on:{click:e.onFullScreen}})]):e._e()],2)]),t("m-table",e._g(e._b({ref:"mTable",attrs:{data:e.tableData,pagination:e.isPagination,"infinite-scroll":e.isScrollPagination,"scroll-loading":e.scrollLoading,noMore:e.noMore,"fixed-bottom":e.tableFixedBottom,height:e.height,columns:e.displayColumns,"page-size":e.pageSize,"current-page":e.pageNum,"table-loading":e.loading,total:e.total,size:e.tableSize},on:{"page-change":e.onPageChange,"scroll-load":e.onScrollLoad,"selection-change":e.onSelectionChange,"sort-change":e.onSortChange},scopedSlots:e._u([e._l(e.tableSlots,(function(t){return{key:t,fn:function(i){return[e._t(t,null,null,i)]}}}))],null,!0)},"m-table",e.tableProps,!1),e.tableListeners),[e.showSelection?[t("el-table-column",{attrs:{type:"selection"}})]:e._e(),e._t("table")],2)],1)])},Nt=[],Mt=function(){var e=this,t=e._self._c;return t("el-popover",{attrs:{"popper-class":"table-column-setting",width:200}},[t("el-card",[t("div",{staticClass:"dp-f items-center justify-between",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("列设置")]),t("el-button",{staticClass:"f-r",attrs:{type:"text"},on:{click:e.reset}},[e._v("重置")])],1),t("div",{ref:"columnContainer",staticClass:"column-conatiner"},e._l(e.columnSetting,(function(i){return t("div",{key:i.prop+i.label,staticClass:"column-item"},[t("i",{staticClass:"drag-handle el-icon-more"}),t("i",{staticClass:"drag-handle el-icon-more"}),t("el-checkbox",{attrs:{value:i.checked},on:{input:t=>e.onColChange(i,t)}},[e._v(" "+e._s(i.label)+" "),i.tips?t("el-tooltip",{attrs:{content:i.tips,placement:"top"}},[t("i",{staticClass:"el-icon-info cur-p"})]):e._e()],1)],1)})),0)]),t("i",{staticClass:"el-icon-setting fs-22 cur-p mg-l-8",attrs:{slot:"reference"},slot:"reference"})],1)},Bt=[],Dt=i("aa47"),At={name:"TableColumnSetting",inheritAttrs:!1,props:{columns:Array,cacheKey:String},data(){return{columnSetting:[]}},watch:{columns(){}},mounted(){this.initColumnSetting()},methods:{initColumnSetting(){if(!this.columns||!Array.isArray(this.columns))return;let e=N(this.cacheKey);e&&Array.isArray(e)?this.columnSetting=e.filter(e=>this.columns.find(t=>t.prop===e.prop)):this.columnSetting=this.getSettingsByCols(this.columns),this.initSortable(),this.change()},onColChange(e,t){e.checked=t,this.change()},initSortable(){Dt["a"].create(this.$refs.columnContainer,{animation:300,onEnd:e=>{let{newIndex:t,oldIndex:i}=e;if(t!==i){let e=this.columnSetting;const n=e.splice(i,1)[0];e.splice(t,0,n),this.change(),this.$nextTick(()=>{this.initSortable()})}this.change()}})},change(){let e=this.columns.reduce((e,t,i)=>(this.columnSetting.find(e=>e.prop===t.prop)||e.push({index:i,col:t}),e),[]);if(e.length)for(const i of e)this.columnSetting.splice(i.index,0,this.getSettingByCol(i.col));let t=this.columnSetting.filter(e=>e.checked).map(e=>this.columns.find(t=>t.prop===e.prop));this.cacheKey&&$(this.cacheKey,this.columnSetting),this.$emit("change",t)},getSettingByCol(e){return{prop:e.prop,label:e.label,tips:e.headerTips,checked:!0}},getSettingsByCols(e){return e.map(this.getSettingByCol)},reset(){this.columnSetting=this.getSettingsByCols(this.columns),this.change()}}},Ot=At,Et=(i("9291"),Object(d["a"])(Ot,Mt,Bt,!1,null,null,null)),Ft=Et.exports;const zt={data:"data",pageSize:"pageSize",pageNum:"page",total:"total",order:"order",orderBy:"orderBy"};var Pt={name:"MProTable",components:{MTable:qe,MQueryForm:dt,TableColumnSetting:Ft},props:{fetch:Function,title:String,columns:{type:Array,validator(e){return!e.some(e=>!e.prop)||(console.error("column 必须包含prop字段"),!1)}},queryModel:Object,pageType:{type:String,default:"pagination",validate(e){return["pagination","scroll","none"].includes(e)}},height:[Number,String],fixedBottom:Number,showSelection:{type:Boolean,default:!0},tableProps:Object,tableListeners:Object,queryFields:Array,fieldConfig:{type:Object,default(){return{}}},pageSize:{type:Number,default:30},showRefresh:Boolean,columnSetting:Boolean,columnCacheKey:String,showFullscreen:Boolean,showSize:Boolean,queryFormProps:Object},data(){return{loading:!1,tableData:[],pageNum:1,scrollLoading:!1,noMore:!1,total:0,selection:[],orderBy:Ce.a.get(this.tableProps,"default-sort.prop"),order:Ce.a.get(this.tableProps,"default-sort.order"),fieldDic:Object.assign({},zt,this.fieldConfig),displayColumns:this.columns,isFullscreen:!1,tableSize:Ce.a.get(this.tableProps,"size","default"),sizes:[{label:"默认",size:"default"},{label:"中等",size:"middle"},{label:"紧凑",size:"small"}]}},computed:{isPagination(){return"pagination"===this.pageType},isScrollPagination(){return"scroll"===this.pageType},isNoPagination(){return"none"===this.pageType},tableSlots(){return this.columns.reduce((e,t)=>(t.slotName&&e.push(t.slotName),t.headerSlotName&&e.push(t.headerSlotName),e),[])},tableFixedBottom(){let e=50;return this.isFullscreen?this.isPagination?e:0:D(this.fixedBottom)?this.isPagination?this.fixedBottom+e:this.fixedBottom:null}},mounted(){this.fetchData();const e=e=>{"Escape"===e.key&&(this.isFullscreen=!1)};document.addEventListener("keydown",e),this.$once("hook:beforeDestroy",()=>{document.removeEventListener("keydown",e)})},methods:{fetchData(e){this.loading=!0,this.noMore=!1;let t=this.pageNum;e&&(t=1);let i={...this.queryModel,[this.fieldDic.order]:this.order,[this.fieldDic.orderBy]:this.orderBy};return this.isNoPagination||(i[this.fieldDic.pageNum]=t,i[this.fieldDic.pageSize]=this.pageSize),this.getData(i).then(e=>{this.total=e[this.fieldDic.total],this.tableData=e[this.fieldDic.data],this.selection=[],this.pageNum=t}).finally(()=>{this.loading=!1})},getData(e){return this.fetch(e).then(e=>{var t;if(A(e.ret)&&A(e.code))return e;let i=null!==(t=e.ret)&&void 0!==t?t:e.code;return 0!==i?Promise.reject(e.msg):e.data}).catch(e=>{var t;let i=e.message||e;return null===(t=this.$message)||void 0===t||t.error(e.message||e),Promise.reject(i)})},onPageChange(e,t){this.pageNum=e,this.pageSize=t,this.fetchData()},onScrollLoad(){this.scrollLoading=!0,this.getData({...this.queryModel,[this.fieldDic.pageNum]:this.pageNum+1,[this.fieldDic.pageSize]:this.pageSize,[this.fieldDic.order]:this.order,[this.fieldDic.orderBy]:this.orderBy}).then(e=>{this.pageNum++;let t=e[this.fieldDic.data];null!==t&&void 0!==t&&t.length?this.tableData.push(...t):this.noMore=!0}).finally(()=>{this.scrollLoading=!1})},onSelectionChange(e){this.selection=e,this.$emit("selection-chagne",e)},getSelection(){return this.selection},async onQueryFormCollapse(){await this.$nextTick(),this.$refs.mTable.setTableHeight()},onSortChange({prop:e,order:t}){t?(this.orderBy=e,this.order=t):(this.order=void 0,this.orderBy=void 0),this.fetchData(this.isScrollPagination)},onColumnChange(e){this.displayColumns=e},onFullScreen(){this.isFullscreen=!this.isFullscreen,this.isFullscreen&&this.$message.info("按Esc即可退出全屏模式")}}},Tt=Pt,jt=(i("a7e3"),Object(d["a"])(Tt,$t,Nt,!1,null,"7a1ad628",null)),It=jt.exports,Lt=i("bc3a"),Vt=i.n(Lt);const Rt={timeout:5e3,validateStatus(e){return e>=200&&e<500}},Ht=[e=>{if(Wt){const t=Wt();t&&(e.headers={...e.headers,...t})}return e}];let qt,Wt,Kt;function Yt(e={}){let t=Object.assign({},Rt,e);qt=Vt.a.create(t),Kt=Ut(...Ht)}Yt();function Ut(e,t){let i=e===Ht[0];i||qt.interceptors.request.eject(Kt);let n=qt.interceptors.request.use(e,t);return i||Ut(...Ht),n}var Qt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-ellipsis"},[t("span",[t("span",{key:e.keyIndex,ref:"content"},[e._v(e._s(e.text))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.collapse,expression:"collapse"}]},[e._v(" "+e._s(e.ellipsisText)),t("el-link",{directives:[{name:"show",rawName:"v-show",value:e.showCollapse,expression:"showCollapse"}],on:{click:e.toggle}},[e._v(" 展开 "),t("i",{staticClass:"el-icon-caret-bottom"})])],1)]),t("el-link",{directives:[{name:"show",rawName:"v-show",value:e.showCollapse&&!e.collapse,expression:"showCollapse && !collapse"}],on:{click:e.toggle}},[e._v(" 收起 "),t("i",{staticClass:"el-icon-caret-top"})])],1)},Jt=[],Xt={name:"MEllipsis",props:{text:String,maxHeight:{type:Number,default:50},ellipsisText:{type:String,default:"..."},collapseable:{type:Boolean,default:!0},defaultCollaspe:{type:Boolean,default:!0}},data(){return{keyIndex:0,oversize:!1,collapse:this.defaultCollaspe}},computed:{showCollapse(){return this.collapseable&&this.oversize}},watch:{text:"init",maxHeight:"init"},mounted(){this.init(),Object(je["addResizeListener"])(this.$el,this.resizeHandle)},beforeDestroy(){Object(je["removeResizeListener"])(this.$el,this.resizeHandle)},methods:{init(){this.oversize=!this.isFits(),this.oversize&&this.collapse&&this.truncate()},truncate(){this.$nextTick(()=>{const e=this.$refs.content;let t=this.text;while(!this.isFits()){let i=t.length-1;this.$el.offsetHeight>3*this.maxHeight&&(i=Math.floor(t.length/2)),e.innerText=t=t.substring(0,i)}})},isFits(){return this.$el.offsetHeight<=this.maxHeight},toggle(){this.collapse=!this.collapse,this.collapse?this.truncate():this.keyIndex++},resizeHandle(){this.oversize&&this.collapse&&this.truncate()}}},Gt=Xt,Zt=(i("3bc4"),Object(d["a"])(Gt,Qt,Jt,!1,null,"04cf0620",null)),ei=Zt.exports,ti=function(){var e=this,t=e._self._c;return t("el-dialog",e._g(e._b({staticClass:"m-dialog",attrs:{width:e.dialogWidth,"close-on-click-modal":e.easyClose,"close-on-press-escape":e.easyClose,title:e.title},scopedSlots:e._u([{key:"title",fn:function(){return[e._t("title")]},proxy:!0},{key:"footer",fn:function(){return[e.$slots.footer?e._t("footer"):e.showFooter?t("span",[t("el-button",{attrs:{size:"small"},on:{click:e.onCancel}},[e._v(e._s(e.cancelText))]),t("el-button",{attrs:{size:"small",type:"primary",loading:e.confirmLoading},on:{click:e.onConfirm}},[e._v(" "+e._s(e.confirmText)+" ")])],1):e._e()]},proxy:!0}],null,!0)},"el-dialog",e.$attrs,!1),e.$listeners),[e._t("default")],2)},ii=[],ni={name:"MDialog",props:{showFooter:{type:Boolean,default:!0},cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"确定"},confirmLoading:{type:Boolean,default:!1},size:{type:String,default:"middle",validate(e){return["large","middle","small"].includes(e)}},easyClose:{type:Boolean,default:!0},width:{type:[String,Number]},title:String},data(){return{}},computed:{dialogWidth(){if(this.width)return D(this.width)?this.width+"px":this.width;let e={large:"1080px",middle:"750px",small:"520px"};return e[this.size]}},methods:{onCancel(){this.$emit("cancel"),this.$emit("update:visible",!1)},onConfirm(){this.$emit("confirm")}}},oi=ni,si=(i("0234"),Object(d["a"])(oi,ti,ii,!1,null,"37237c27",null)),ri=si.exports,ai=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-exception"},[t("div",{staticClass:"img-wrapper"},[t("img",{staticClass:"err-img",attrs:{src:e.displayImg,alt:e.displayTitle}})]),t("div",{staticClass:"content"},[t("h1",{class:{browser:e.isBrowser}},[e._v(e._s(e.displayTitle))]),t("div",{staticClass:"desc"},[e._v(" "+e._s(e.displayDesc)+" ")]),e.isBrowser?t("div",{staticClass:"browsers"},e._l(e.browsers,(function(i){return t("div",{key:i.name,staticClass:"browser-item"},[t("a",{attrs:{href:i.url,target:"_blank"}},[t("img",{attrs:{src:i.icon,alt:i.name}})]),t("span",[e._v(e._s(i.name))])])})),0):e._e(),t("div",{staticClass:"actions"},[e.$slots.default||e.isBrowser?e._e():t("el-button",{attrs:{type:"primary"},on:{click:e.onClick}},[e._v(" "+e._s(e.btnText)+" ")]),e._t("default")],2)])])},li=[],ci=i("f963"),ui=i.n(ci),di=i("aa66"),mi=i.n(di),hi=i("3b58"),pi=i.n(hi),fi=i("c325"),gi=i.n(fi),bi=i("5cba"),vi=i.n(bi),yi=i("f7a9"),_i=i.n(yi),Ci=i("d9c4"),wi=i.n(Ci),xi=i("0cb0"),Si=i.n(xi);const ki={403:{img:W(ui.a),title:"403",desc:"抱歉，你无权访问该页面"},404:{img:W(mi.a),title:"404",desc:"抱歉，你访问的页面不存在"},500:{img:W(pi.a),title:"500",desc:"抱歉，服务器出错了"},browser:{img:W(gi.a),title:"浏览器版本不兼容",desc:"浏览器版本过低，为避免可能存在的安全隐患，推荐升级以下浏览器"}},$i=[{name:"Chrome",icon:W(vi.a),url:"https://www.google.com/intl/zh-CN/chrome/"},{name:"Edge",icon:W(_i.a),url:"https://www.microsoft.com/zh-cn/edge"},{name:"Firefox",icon:W(Si.a),url:"https://www.firefox.com.cn/"},{name:"Safari",icon:W(wi.a),url:"https://support.apple.com/zh_CN/downloads/safari"}];var Ni={name:"MException",props:{type:{type:String,default:"500",validate(e){return["403","404","500","browser"].includes(e)}},title:String,desc:String,img:String,redirect:{type:String,default:"/"},btnText:{type:String,default:"返回首页"}},data(){return{browsers:$i}},computed:{displayTitle(){return this.title||ki[this.type].title},displayDesc(){return this.desc||ki[this.type].desc},displayImg(){return this.img||ki[this.type].img},isBrowser(){return"browser"===this.type}},methods:{onClick(){this.$router&&this.$router.push(this.redirect)}}},Mi=Ni,Bi=(i("7e30"),Object(d["a"])(Mi,ai,li,!1,null,"2dbb81a7",null)),Di=Bi.exports,Ai=function(){var e=this,t=e._self._c;return t("el-form",e._g(e._b({ref:"form",attrs:{size:e.size,"label-position":e.labelPosition,"label-width":e.labelWidth,model:e.model}},"el-form",e.$attrs,!1),e.$listeners),[e._t("default"),e._l(e.fields,(function(i,n){return t("el-form-item",e._b({key:i.prop,class:{"item-group":!!i.group},scopedSlots:e._u([i.labelSlotName?{key:"label",fn:function(){return[e._t(i.labelSlotName)]},proxy:!0}:null],null,!0)},"el-form-item",e.getFormItemProps(i),!1),[[i.slotName?e._t(i.slotName,null,{index:n,prop:i.prop,value:e.model[i.prop]}):i.component?t(i.component,e._g(e._b({ref:i.prop,refInFor:!0,tag:"component",model:{value:e.model[i.prop],callback:function(t){e.$set(e.model,i.prop,t)},expression:"model[field.prop]"}},"component",i.componentProps,!1),i.componentEvents)):e._e()],e._l(i.group,(function(o){return t("el-form-item",e._b({key:o.prop,scopedSlots:e._u([o.labelSlotName?{key:"label",fn:function(){return[e._t(o.labelSlotName)]},proxy:!0}:null],null,!0)},"el-form-item",e.getFormItemProps(o),!1),[[o.slotName?e._t(o.slotName,null,{index:n,prop:i.prop,value:e.model[i.prop]}):o.component?t(o.component,e._g(e._b({ref:o.prop,refInFor:!0,tag:"component",model:{value:e.model[o.prop],callback:function(t){e.$set(e.model,o.prop,t)},expression:"model[fieldItem.prop]"}},"component",o.componentProps,!1),o.componentEvents)):e._e()]],2)}))],2)})),e._t("append")],2)},Oi=[],Ei={methods:{validator(e,t,i){return this.validate(e,t).then(e=>{e?i():i(new Error(e))}).catch(e=>i(e))}}},Fi={name:"MForm",mixins:[Ei],props:{size:{type:String,default:"small"},labelPosition:{type:String,default:"right"},labelWidth:{type:[String,Number],default:"100px"},model:{type:[Object,Array],default(){return{}}},fields:{type:Array,default(){return[]}}},data(){return{getFormItemProps(e){let t=R(e,["slotName","labelSlotName","component","componentProps","componentEvents","group"]);if(!e.rules){const i=(t,i,n)=>{var s;let r=this.$refs[e.prop];!r&&e.slotName&&(r=this.$slots[e.slotName]),Array.isArray(r)&&(r=r[0]),null!==(s=r)&&void 0!==s&&s.context&&r.context instanceof o["default"]&&(r=r.context),r&&O(r.validator)?r.validator(t,i,n):n()};t.rules=[{validator:i}]}return t}}},computed:{},watch:{model:{handler(e){this.$emit("input",e)},deep:!0}},mounted(){},methods:{validate(){var e;return null===(e=this.$refs.form)||void 0===e?void 0:e.validate()},validateField(){var e;return null===(e=this.$refs.form)||void 0===e?void 0:e.validateField()},resetFields(){var e;return null===(e=this.$refs.form)||void 0===e?void 0:e.resetFields()},clearValidate(){var e;return null===(e=this.$refs.form)||void 0===e?void 0:e.clearValidate()},getElForm(){return this.$refs.form}}},zi=Fi,Pi=(i("12c5"),Object(d["a"])(zi,Ai,Oi,!1,null,"3482186e",null)),Ti=Pi.exports,ji=function(){var e=this,t=e._self._c;return t("m-dialog",e._g(e._b({attrs:{"confirm-loading":e.loading,"easey-close":!1},on:{open:e.onOpen,confirm:e.onConfirm}},"m-dialog",e.$attrs,!1),e.$listeners),[t("m-form",e._b({ref:"form",attrs:{fields:e.fields,model:e.model}},"m-form",e.formProps,!1),[e._t("default"),e._l(e.slots,(function(t){return e._t(t,null,{slot:t,model:e.model})})),e._t("append",null,{slot:"append"})],2)],1)},Ii=[],Li={name:"MDialogForm",components:{MDialog:ri,MForm:Ti},inheritAttrs:!1,props:{fields:Array,defaultModel:Object,modelValue:Object,createFn:{type:Function,default:()=>()=>{}},updateFn:{type:Function,default:()=>()=>{}},formProps:Object},data(){return{model:{},loading:!1}},computed:{slots(){return this.fields.map(e=>Ce.a.compact([e.slotName,e.labelSlotName])).flat()}},methods:{onConfirm(){this.$refs.form.validate().then(e=>{if(e){let e=this.modelValue?this.updateFn:this.createFn;this.loading=!0;let t=e(this.model);null!==t&&void 0!==t&&t.then?t.then(e=>{this.$emit("saved",e),this.$emit("update:visible",!1)}).finally(()=>{this.loading=!1}):(this.loading=!1,this.$emit("saved",t),this.$emit("update:visible",!1))}})},onOpen(){this.modelValue?this.model=Ce.a.cloneDeep(this.modelValue):this.model=Ce.a.cloneDeep(this.defaultModel),this.$nextTick(()=>{this.$refs.form.clearValidate()})},getElForm(){return this.$refs.form}}},Vi=Li,Ri=Object(d["a"])(Vi,ji,Ii,!1,null,"79f54f70",null),Hi=Ri.exports,qi=(i("907a"),i("986a"),i("1d02"),i("3c5d"),i("6ce5"),i("2834"),i("4ea1"),i("21a6")),Wi=i.n(qi);i("1146"),i("369b");var Ki=function(){var e=this,t=e._self._c;return t("m-form",e._g(e._b({ref:"mForm",staticClass:"m-array-form",attrs:{labelWidth:"0",model:e.value,fields:e.fields}},"m-form",e.$attrs,!1),e.$listeners))},Yi=[],Ui=function(){var e=this,t=e._self._c;return t("div",{staticClass:"field-item"},[t("div",{staticClass:"content"},[t(e.component,e._g(e._b({ref:"comp",tag:"component",attrs:{index:e.index,value:e.arrayValue[e.index]},on:{input:t=>e.$emit("update",t,e.index)}},"component",e.componentProps,!1),e.componentEvents))],1),t("div",{staticClass:"btn"},[0!==e.index||e.emptiable?t("el-button",{attrs:{type:"danger",icon:"el-icon-minus",circle:""},on:{click:()=>e.$emit("remove",e.index)}}):t("el-button",{attrs:{type:"primary",icon:"el-icon-plus",circle:""},on:{click:()=>e.$emit("add")}})],1)])},Qi=[],Ji={name:"MArrayFormItem",props:{index:Number,field:Object,component:[String,Object],componentProps:Object,componentEvents:Object,arrayValue:Array,emptiable:Boolean},methods:{validator(e,t,i){let n=this.getFieldComponent();n&&Ce.a.isFunction(n.validator)?n.validator(e,t,i):i()},getFieldComponent(){let e=this.$refs.comp;return e||(e=this.$slots.default),Array.isArray(e)&&(e=e[0]),e},onInput(e,t){console.log("input",e,this.arrayValue),this.$set(this.arrayValue,t,e)}}},Xi=Ji,Gi=(i("6abd"),Object(d["a"])(Xi,Ui,Qi,!1,null,"73e1b662",null)),Zi=Gi.exports;const en=e=>A(e)?null:Ce.a.cloneDeep(e);var tn={name:"MArrayForm",components:{MForm:Ti},mixins:[Ei],props:{value:{type:Array,default(){return[]}},component:[String,Object],componentProps:Object,componentEvents:Object,itemDefaultValue:[String,Number,Object,Array],rules:Array,emptiable:Boolean},computed:{currentVal(){return this.emptiable||this.value.length?this.value:[en(this.itemDefaultValue)]},fields(){return this.currentVal.map((e,t)=>({prop:t.toString(),label:"",component:Zi,componentProps:{component:this.component,componentProps:this.componentProps,componentEvents:this.componentEvents,index:t,arrayValue:this.currentVal,emptiable:this.emptiable},componentEvents:{add:this.addItem,remove:this.removeItem,update:this.onUpdate},rules:this.rules}))}},mounted(){},methods:{addItem(){this.$emit("input",[...this.currentVal,en(this.itemDefaultValue)])},removeItem(e){this.value.splice(e,1),this.$emit("input",this.value)},validate(){return this.$refs.mForm.validate()},onUpdate(e,t){this.$set(this.value,t,e)},getFieldComponents(){return Array(this.fields.length).fill(0).map((e,t)=>{let i=this.$refs.mForm.$refs[t];return Array.isArray(i)&&(i=i[0]),i.getFieldComponent()})}}},nn=tn,on=(i("436a"),Object(d["a"])(nn,Ki,Yi,!1,null,"36c59ef6",null)),sn=on.exports,rn=function(){var e=this,t=e._self._c;return t("m-dialog",e._g(e._b({ref:"dialog",class:["m-draggable-dialog",{min:e.isMin,max:e.isMax,"no-user-select":e.moving}],attrs:{"show-close":!1,"easy-close":e.easyClose,"append-to-body":"","lock-scroll":!1},on:{open:e.onOpen,closed:e.onClosed},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"dp-f justify-between"},[t("span",[e._v(e._s(e.dialogTitle))]),t("span",{staticClass:"btns"},[t("i",{directives:[{name:"show",rawName:"v-show",value:!e.isMin&&!e.isMax&&e.minable,expression:"!isMin && !isMax && minable"}],staticClass:"icon el-icon-minus",on:{click:function(t){return t.stopPropagation(),e.onMin.apply(null,arguments)}}}),t("i",{directives:[{name:"show",rawName:"v-show",value:!e.isMin&&!e.isMax&&e.maxable,expression:"!isMin && !isMax && maxable"}],staticClass:"icon el-icon-full-screen",on:{click:function(t){return t.stopPropagation(),e.onMax.apply(null,arguments)}}}),t("i",{directives:[{name:"show",rawName:"v-show",value:e.isMin||e.isMax,expression:"isMin || isMax"}],staticClass:"icon el-icon-copy-document",on:{click:function(t){return t.stopPropagation(),e.onReset.apply(null,arguments)}}}),e.showClose?t("i",{staticClass:"icon el-icon-close",on:{click:function(t){return t.stopPropagation(),(()=>e.$emit("update:visible",!1)).apply(null,arguments)}}}):e._e()])])]},proxy:!0},{key:"footer",fn:function(){return[e._t("footer")]},proxy:!0}],null,!0)},"m-dialog",e.$attrs,!1),e.$listeners),[t("div",{staticClass:"dialog-content"},[e._t("default")],2)])},an=[],ln=i("4b26"),cn=i.n(ln),un={name:"MDraggableDialog",components:{MDialog:ri},props:{title:String,minPos:{type:Object,default(){return{top:0,left:0}},validator(e={}){return D(e.top)&&D(e.left)}},top:{type:[String,Number],default:"15vh"},maxable:{type:Boolean,default:!0},minable:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},resizeable:{type:Boolean,default:!0},minimumSize:{type:Object,default(){return{width:200,height:200}},validator(e){return D(e.width)&&D(e.height)}},easyClose:{type:Boolean,default:!1}},data(){return{dialogOriginPos:{},dialogMouseDownPos:{},dialogStyle:{},contentHeight:0,contentOriginHeight:0,isMin:!1,isMax:!1,moving:!1,elStyle:{}}},computed:{dialogTitle(){return this.title&&this.isMin&&this.title.length>10?this.title.substring(0,15)+"...":this.title}},watch:{dialogStyle:{deep:!0,handler(e){this.dialog&&(this.dialog.style.top=this.getStyleVal(e.top),this.dialog.style.left=this.getStyleVal(e.left),this.dialog.style.width=this.getStyleVal(e.width))}},contentHeight(){this.content&&(this.content.style.height=this.contentHeight+"px")}},mounted(){this.$attrs.visible&&this.onOpen()},methods:{initDom(){if(this.hasInitDom)return;this.header=this.$el.querySelector(".el-dialog__header"),this.content=this.$el.querySelector(".el-dialog__body"),this.dialog=this.$el.querySelector(".el-dialog");const e=this.dialog.getBoundingClientRect();this.dialogStyle={top:this.top,left:(window.innerWidth-e.width)/2,width:e.width},this.dialogOriginPos=e;const t=this.content.getBoundingClientRect();if(this.contentHeight=t.height,this.resizeable){let e=document.createElement("div");e.classList.add("resize-thumb"),this.dialog.appendChild(e),this.initResizeEvent(e)}this.hasInitDom=!0},initEvent(){this.hasInitEvent||(this.header.addEventListener("mousedown",this.onHeaderMouseDown),this.hasInitEvent=!0)},onHeaderMouseDown(e){this.moving=!0,document.body.style.cursor="move",this.dialogMouseDownPos=this.dialog.getBoundingClientRect(),this.isMin||this.isMax?this.isMin&&(this.elRect=this.$el.getBoundingClientRect()):this.dialogOriginPos=this.dialogMouseDownPos,this.mouseDownPos={x:e.pageX,y:e.pageY},document.addEventListener("mousemove",this.dragMouseMoveHandle);let t=()=>{this.moving=!1,document.body.style.cursor="",document.removeEventListener("mousemove",this.dragMouseMoveHandle),document.removeEventListener("mouseup",t)};document.addEventListener("mouseup",t)},dragMouseMoveHandle(e){if(this.isMax)return;let t=e.pageX-this.mouseDownPos.x+this.dialogMouseDownPos.left,i=e.pageY-this.mouseDownPos.y+this.dialogMouseDownPos.top,n=this.isMin?this.elRect.width:this.dialogOriginPos.width,o=this.isMin?this.elRect.height:this.dialogOriginPos.height,s=window.innerWidth-n,r=window.innerHeight-o;this.isMin?(this.$el.style.top=this.getStyleVal(Ce.a.clamp(i,0,r)),this.$el.style.left=this.getStyleVal(Ce.a.clamp(t,0,s))):(this.dialogStyle.left=Ce.a.clamp(t,0,s),this.dialogStyle.top=Ce.a.clamp(i,0,r))},getStyleVal(e){return B(e)?e:e+"px"},onOpen(){this.$nextTick(()=>{this.initDom(),this.initEvent()})},onMin(){this.dialogOriginPos=this.dialog.getBoundingClientRect(),this.isMin=!0,this.closeModal(),this.$nextTick(()=>{let e=this.header.getBoundingClientRect();this.$el.style.top=this.getStyleVal(this.minPos.top),this.$el.style.left=this.getStyleVal(this.minPos.left),this.$el.style.width=this.getStyleVal(e.width),this.$el.style.height=this.getStyleVal(e.height),this.dialogStyle.top=0,this.dialogStyle.left=0,this.$emit("min"),this.$emit("resize")})},onMax(){this.dialogOriginPos=this.dialog.getBoundingClientRect(),this.isMax=!0,document.addEventListener("keyup",this.escKeyupHandle),this.$emit("max"),this.$emit("resize")},escKeyupHandle(e){"Escape"===e.key&&this.onReset()},onReset(){this.isMax&&this.isMin&&this.$emit("resize"),this.isMax?document.removeEventListener("keyup",this.escKeyupHandle):this.isMin&&(this.$el.style.top=this.$el.style.left=0,this.$el.style.width=this.$el.style.height="",this.$attrs.visible&&this.showModal()),this.isMax=!1,this.isMin=!1,this.dialogStyle={left:this.dialogOriginPos.left,top:this.dialogOriginPos.top,width:this.dialogOriginPos.width}},onClosed(){(this.isMax||this.isMin)&&this.onReset()},initResizeEvent(e){let t=e=>{document.body.style.cursor="nw-resize",this.moving=!0,this.mouseDownPos={x:e.pageX,y:e.pageY},this.dialogOriginWidth=this.dialog.getBoundingClientRect().width,this.contentOriginHeight=this.content.getBoundingClientRect().height,document.addEventListener("mousemove",this.resizeMouseMoveHandle);let t=()=>{document.body.style.cursor="",this.moving=!1,document.removeEventListener("mouseup",t),document.removeEventListener("mousemove",this.resizeMouseMoveHandle)};document.addEventListener("mouseup",t)};e.addEventListener("mousedown",t)},resizeMouseMoveHandle(e){let t=Math.min(e.pageX,window.innerWidth),i=Math.min(e.pageY,window.innerHeight),n=t-this.mouseDownPos.x+this.dialogOriginWidth,o=i-this.mouseDownPos.y+this.contentOriginHeight;this.contentHeight=Math.max(o,this.minimumSize.height),this.dialogStyle.width=Math.max(n,this.minimumSize.width),this.$emit("resize")},getElDialogIns(){return this.$refs.dialog.$children[0]},closeModal(){cn.a.closeModal(this.getElDialogIns()["_popupId"])},showModal(){cn.a.openModal(this.getElDialogIns()["_popupId"],cn.a.zIndex),this.$el.style.zIndex=cn.a.zIndex+1}}},dn=un,mn=(i("a544"),Object(d["a"])(dn,rn,an,!1,null,"e0f77420",null)),hn=mn.exports,pn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-view-tags"},[t("el-tabs",{attrs:{value:e.currentTab,type:"border-card",closable:e.closeable},on:{input:e.onTabChange,"tab-remove":e.onTabClose}},e._l(e.tabs,(function(e){return t("el-tab-pane",{key:e.name,attrs:{label:e.meta.title||e.name,name:e.name}})})),1)],1)},fn=[],gn={name:"MViewTags",data(){return{currentTab:""}},computed:{tabs(){return this.$store.state.cacheViews},closeable(){return this.tabs.length>1}},watch:{$route:{handler(){this.currentTab=this.$route.name},immediate:!0}},methods:{onTabChange(e){if(e==this.$route.name)return;let t=this.tabs.find(t=>t.name===e);this.$router.push(t)},onTabClose(e){if(this.tabs.length<=1)return;let t=this.tabs.findIndex(t=>t.name===e);e===this.$route.name&&(t===this.tabs.length-1?this.$router.push(this.tabs[t-1]):this.$router.push(this.tabs[t+1])),this.$store.commit("REMOVE_CACHE_VIEW",e)}}},bn=gn,vn=(i("d2d6"),Object(d["a"])(bn,pn,fn,!1,null,"7373b94b",null)),yn=vn.exports,_n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"dp-ib"},[e.forceConfirm?t("el-button",e._b({on:{click:e.onClick}},"el-button",e.$attrs,!1),[e._t("default")],2):t("el-popconfirm",{attrs:{title:e.msg,"confirm-button-text":e.confirmButtonText,"cancel-button-text":e.cancelButtonText,icon:"el-icon-"+e.tipsType,"icon-color":e.iconColor},on:{confirm:e.onConfirm,cancel:e.onCancel}},[t("el-button",e._b({attrs:{slot:"reference"},slot:"reference"},"el-button",e.$attrs,!1),[e._t("default")],2)],1)],1)},Cn=[],wn={name:"MConfirmButton",props:{msg:String,tipsType:{type:String,default:"warning",validator(e){return["success","info","warning","error"].includes(e)}},confirmButtonText:{type:String,default:"确定"},cancelButtonText:{type:String,default:"取消"},forceConfirm:Boolean},data(){return{confirmVisible:!1}},computed:{iconColor(){let e={success:"#67C23A",warning:"#E6A23C",danger:"#F56C6C",info:"#909399"};return e[this.tipsType]}},methods:{onClick(){this.$confirm(this.msg,"提示",{confirmButtonText:this.confirmButtonText,cancelButtonText:this.cancelButtonText,type:this.tipsType}).then(this.onConfirm).catch(this.onCancel)},onConfirm(){this.$emit("confirm")},onCancel(){this.$emit("cancel")}}},xn=wn,Sn=Object(d["a"])(xn,_n,Cn,!1,null,"20b19cd7",null),kn=Sn.exports,$n=function(e,t){return e("span",{class:["m-status",t.props.type]},[t._t("default")],2)},Nn=[],Mn={name:"MStatus",props:{type:{type:String,default:"primary",validator(e){return["success","info","warning","danger","primary"].includes(e)}}}},Bn=Mn,Dn=(i("6970"),Object(d["a"])(Bn,$n,Nn,!0,null,"45344616",null)),An=Dn.exports,On=function(){var e=this,t=e._self._c;return t("span",[e._v(e._s(e.content))])},En=[],Fn=i("4208"),zn=i.n(Fn);const Pn="YYYY-MM-DD HH:mm:ss",Tn="YYYY-MM-DD";b.a.extend(zn.a);var jn={name:"MTime",props:{value:{type:[Number,Date],validator(e){if(e instanceof Date)return!0;let t=e.toString().length;return!(t>10)||(console.error("[m-time] 值必须是一个有效的十位时间戳或Date对象"),!1)}},dateOnly:Boolean,relative:Boolean,format:String},computed:{content(){let e=D(this.value)?b.a.unix(this.value):b()(this.value);if(this.relative)return e.fromNow();let t=this.format||(this.dateOnly?Tn:Pn);return e.format(t)}}},In=jn,Ln=Object(d["a"])(In,On,En,!1,null,null,null),Vn=Ln.exports,Rn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-login"},[t("h3",{staticClass:"title"},[e._v(e._s(e.title))]),t("m-form",{ref:"form",attrs:{model:e.model,"label-width":"0",size:"large",rules:e.rules}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{placeholder:"请输入用户名","prefix-icon":"el-icon-user","auto-complete":"off"},model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码","prefix-icon":"el-icon-unlock","auto-complete":"off"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onLogin.apply(null,arguments)}},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1),e.captchaSrc?t("el-form-item",{attrs:{prop:"captcha"}},[t("div",{staticClass:"captcha-container"},[t("el-input",{attrs:{placeholder:"验证码","auto-complete":"off"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onLogin.apply(null,arguments)}},model:{value:e.model.captcha,callback:function(t){e.$set(e.model,"captcha",t)},expression:"model.captcha"}}),t("img",{staticClass:"cur-p",attrs:{src:e.captchaSrc,alt:"验证码",title:"点击刷新验证码"},on:{click:e.setCaptcha}})],1)]):e._e(),t("el-form-item",{attrs:{prop:"remember"}},[t("el-checkbox",{on:{change:e.onRememberChange},model:{value:e.model.remember,callback:function(t){e.$set(e.model,"remember",t)},expression:"model.remember"}},[e._v("记住密码")])],1),t("el-form-item",[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.loading},on:{click:e.onLogin}},[e._v("登 录")])],1)],1)],1)},Hn=[];function qn(e){this.modulus=ro(e),this.k=wo(this.modulus)+1;var t=new so;t.digits[2*this.k]=1,this.mu=Po(t,this.modulus),this.bkplus1=new so,this.bkplus1.digits[this.k+1]=1,this.modulo=Wn,this.multiplyMod=Kn,this.powMod=Yn}function Wn(e){var t=Oo(e,this.k-1),i=So(t,this.mu),n=Oo(i,this.k+1),o=Eo(e,this.k+1),s=So(n,this.modulus),r=Eo(s,this.k+1),a=Co(o,r);a.isNeg&&(a=_o(a,this.bkplus1));var l=Fo(a,this.modulus)>=0;while(l)a=Co(a,this.modulus),l=Fo(a,this.modulus)>=0;return a}function Kn(e,t){var i=So(e,t);return this.modulo(i)}function Yn(e,t){var i=new so;i.digits[0]=1;var n=e,o=t;while(1){if(0!=(1&o.digits[0])&&(i=this.multiplyMod(i,n)),o=Do(o,1),0==o.digits[0]&&0==wo(o))break;n=this.multiplyMod(n,n)}return i}var Un,Qn,Jn,Xn,Gn=16,Zn=Gn,eo=65536,to=eo>>>1,io=eo*eo,no=eo-1;function oo(e){Un=e,Qn=new Array(Un);for(var t=0;t<Qn.length;t++)Qn[t]=0;Jn=new so,Xn=new so,Xn.digits[0]=1}oo(20);ao(1e15);function so(e){this.digits="boolean"==typeof e&&1==e?null:Qn.slice(0),this.isNeg=!1}function ro(e){var t=new so(!0);return t.digits=e.digits.slice(0),t.isNeg=e.isNeg,t}function ao(e){var t=new so;t.isNeg=e<0,e=Math.abs(e);var i=0;while(e>0)t.digits[i++]=e&no,e>>=Gn;return t}function lo(e){for(var t="",i=e.length-1;i>-1;--i)t+=e.charAt(i);return t}var co=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z");function uo(e,t){var i=new so;i.digits[0]=t;var n=zo(e,i),o=co[n[1].digits[0]];while(1==Fo(n[0],Jn))n=zo(n[0],i),digit=n[1].digits[0],o+=co[n[1].digits[0]];return(e.isNeg?"-":"")+lo(o)}var mo=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f");function ho(e){for(var t=15,i="",n=0;n<4;++n)i+=mo[e&t],e>>>=4;return lo(i)}function po(e){for(var t="",i=(wo(e),wo(e));i>-1;--i)t+=ho(e.digits[i]);return t}function fo(e){var t,i=48,n=i+9,o=97,s=o+25,r=65,a=90;return t=e>=i&&e<=n?e-i:e>=r&&e<=a?10+e-r:e>=o&&e<=s?10+e-o:0,t}function go(e){for(var t=0,i=Math.min(e.length,4),n=0;n<i;++n)t<<=4,t|=fo(e.charCodeAt(n));return t}function bo(e){for(var t=new so,i=e.length,n=i,o=0;n>0;n-=4,++o)t.digits[o]=go(e.substr(Math.max(n-4,0),Math.min(n,4)));return t}function vo(e){for(var t="",i=wo(e);i>-1;--i)t+=yo(e.digits[i]);return t}function yo(e){var t=String.fromCharCode(255&e);e>>>=8;var i=String.fromCharCode(255&e);return i+t}function _o(e,t){var i;if(e.isNeg!=t.isNeg)t.isNeg=!t.isNeg,i=Co(e,t),t.isNeg=!t.isNeg;else{i=new so;for(var n,o=0,s=0;s<e.digits.length;++s)n=e.digits[s]+t.digits[s]+o,i.digits[s]=65535&n,o=Number(n>=eo);i.isNeg=e.isNeg}return i}function Co(e,t){var i;if(e.isNeg!=t.isNeg)t.isNeg=!t.isNeg,i=_o(e,t),t.isNeg=!t.isNeg;else{var n,o;i=new so,o=0;for(var s=0;s<e.digits.length;++s)n=e.digits[s]-t.digits[s]+o,i.digits[s]=65535&n,i.digits[s]<0&&(i.digits[s]+=eo),o=0-Number(n<0);if(-1==o){o=0;for(s=0;s<e.digits.length;++s)n=0-i.digits[s]+o,i.digits[s]=65535&n,i.digits[s]<0&&(i.digits[s]+=eo),o=0-Number(n<0);i.isNeg=!e.isNeg}else i.isNeg=e.isNeg}return i}function wo(e){var t=e.digits.length-1;while(t>0&&0==e.digits[t])--t;return t}function xo(e){var t,i=wo(e),n=e.digits[i],o=(i+1)*Zn;for(t=o;t>o-Zn;--t){if(0!=(32768&n))break;n<<=1}return t}function So(e,t){for(var i,n,o,s=new so,r=wo(e),a=wo(t),l=0;l<=a;++l){i=0,o=l;for(var c=0;c<=r;++c,++o)n=s.digits[o]+e.digits[c]*t.digits[l]+i,s.digits[o]=n&no,i=n>>>Gn;s.digits[l+r+1]=i}return s.isNeg=e.isNeg!=t.isNeg,s}function ko(e,t){var i,n,o,s=new so;i=wo(e),n=0;for(var r=0;r<=i;++r)o=s.digits[r]+e.digits[r]*t+n,s.digits[r]=o&no,n=o>>>Gn;return s.digits[1+i]=n,s}function $o(e,t,i,n,o){for(var s=Math.min(t+o,e.length),r=t,a=n;r<s;++r,++a)i[a]=e[r]}var No=new Array(0,32768,49152,57344,61440,63488,64512,65024,65280,65408,65472,65504,65520,65528,65532,65534,65535);function Mo(e,t){var i=Math.floor(t/Zn),n=new so;$o(e.digits,0,n.digits,i,n.digits.length-i);for(var o=t%Zn,s=Zn-o,r=n.digits.length-1,a=r-1;r>0;--r,--a)n.digits[r]=n.digits[r]<<o&no|(n.digits[a]&No[o])>>>s;return n.digits[0]=n.digits[r]<<o&no,n.isNeg=e.isNeg,n}var Bo=new Array(0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535);function Do(e,t){var i=Math.floor(t/Zn),n=new so;$o(e.digits,i,n.digits,0,e.digits.length-i);for(var o=t%Zn,s=Zn-o,r=0,a=r+1;r<n.digits.length-1;++r,++a)n.digits[r]=n.digits[r]>>>o|(n.digits[a]&Bo[o])<<s;return n.digits[n.digits.length-1]>>>=o,n.isNeg=e.isNeg,n}function Ao(e,t){var i=new so;return $o(e.digits,0,i.digits,t,i.digits.length-t),i}function Oo(e,t){var i=new so;return $o(e.digits,t,i.digits,0,i.digits.length-t),i}function Eo(e,t){var i=new so;return $o(e.digits,0,i.digits,0,t),i}function Fo(e,t){if(e.isNeg!=t.isNeg)return 1-2*Number(e.isNeg);for(var i=e.digits.length-1;i>=0;--i)if(e.digits[i]!=t.digits[i])return e.isNeg?1-2*Number(e.digits[i]>t.digits[i]):1-2*Number(e.digits[i]<t.digits[i]);return 0}function zo(e,t){var i,n,o=xo(e),s=xo(t),r=t.isNeg;if(o<s)return e.isNeg?(i=ro(Xn),i.isNeg=!t.isNeg,e.isNeg=!1,t.isNeg=!1,n=Co(t,e),e.isNeg=!0,t.isNeg=r):(i=new so,n=ro(e)),new Array(i,n);i=new so,n=e;var a=Math.ceil(s/Zn)-1,l=0;while(t.digits[a]<to)t=Mo(t,1),++l,++s,a=Math.ceil(s/Zn)-1;n=Mo(n,l),o+=l;var c=Math.ceil(o/Zn)-1,u=Ao(t,c-a);while(-1!=Fo(n,u))++i.digits[c-a],n=Co(n,u);for(var d=c;d>a;--d){var m=d>=n.digits.length?0:n.digits[d],h=d-1>=n.digits.length?0:n.digits[d-1],p=d-2>=n.digits.length?0:n.digits[d-2],f=a>=t.digits.length?0:t.digits[a],g=a-1>=t.digits.length?0:t.digits[a-1];i.digits[d-a-1]=m==f?no:Math.floor((m*eo+h)/f);var b=i.digits[d-a-1]*(f*eo+g),v=m*io+(h*eo+p);while(b>v)--i.digits[d-a-1],b=i.digits[d-a-1]*(f*eo|g),v=m*eo*eo+(h*eo+p);u=Ao(t,d-a-1),n=Co(n,ko(u,i.digits[d-a-1])),n.isNeg&&(n=_o(n,u),--i.digits[d-a-1])}return n=Do(n,l),i.isNeg=e.isNeg!=r,e.isNeg&&(i=r?_o(i,Xn):Co(i,Xn),t=Do(t,l),n=Co(t,n)),0==n.digits[0]&&0==wo(n)&&(n.isNeg=!1),new Array(i,n)}function Po(e,t){return zo(e,t)[0]}var To={};function jo(e,t,i,n){this.e=bo(e),this.d=bo(t),this.m=bo(i),this.chunkSize="number"!=typeof n?2*wo(this.m):n/8,this.radix=16,this.barrett=new qn(this.m)}function Io(e,t,i,n){var o,s,r,a,l,c,u,d,m,h,p=new Array,f=t.length,g="";a="string"==typeof i?i==To.NoPadding?1:i==To.PKCS1Padding?2:0:0,l="string"==typeof n&&n==To.RawEncoding?1:0,1==a?f>e.chunkSize&&(f=e.chunkSize):2==a&&f>e.chunkSize-11&&(f=e.chunkSize-11),o=0,s=2==a?f-1:e.chunkSize-1;while(o<f)a?p[s]=t.charCodeAt(o):p[o]=t.charCodeAt(o),o++,s--;1==a&&(o=0),s=e.chunkSize-f%e.chunkSize;while(s>0){if(2==a){c=Math.floor(256*Math.random());while(!c)c=Math.floor(256*Math.random());p[o]=c}else p[o]=0;o++,s--}for(2==a&&(p[f]=0,p[e.chunkSize-2]=2,p[e.chunkSize-1]=0),u=p.length,o=0;o<u;o+=e.chunkSize){for(d=new so,s=0,r=o;r<o+e.chunkSize;++s)d.digits[s]=p[r++],d.digits[s]+=p[r++]<<8;m=e.barrett.powMod(d,e.e),h=1==l?vo(m):16==e.radix?po(m):uo(m,e.radix),g+=h}return g}To.NoPadding="NoPadding",To.PKCS1Padding="PKCS1Padding",To.RawEncoding="RawEncoding",To.NumericEncoding="NumericEncoding";var Lo=i("8d81"),Vo=i.n(Lo);const Ro="_m-login-remember_",Ho="_m-login-username_",qo="_m-login-password_";var Wo={name:"MLogin",components:{MForm:Ti},props:{title:{type:String,default:"系统登录"},captchaUrl:{type:String,default:"/captcha"},encryptPassword:{type:Boolean,default:!0},loginHandle:Function},data(){const e=(e,t,i)=>{this.captchaSrc&&!this.model.captcha?i(new Error("请输入验证码")):i()};return{model:{},captchaSrc:"",loading:!1,captchaError:"",rules:{username:[{required:!0,message:"请输入用户名"}],password:[{required:!0,message:"请输入密码"}],captcha:[{validator:e}]}}},mounted(){this.model={username:N(Ho),password:N(qo),remember:N(Ro,!1),captcha:void 0}},methods:{onRememberChange(){$(Ro,this.model.remember)},async onLogin(){let e=await this.$refs.form.validate();if(e){let e={username:this.model.username,password:this.getPassword(),captcha:this.model.captcha};try{this.loading=!0;let t=await this.loginHandle(e);0===t.ret?(this.$emit("success",t.data),this.model.remember?($(Ho,this.model.username),$(qo,this.model.password)):(M(Ho),M(qo))):(this.$message.error(t.msg),t.errcount>=3&&this.setCaptcha())}catch(t){this.$message.error(t.message||t)}finally{this.loading=!1}}},setCaptcha(){this.captchaSrc=`${this.captchaUrl}?${Math.random()}`},getPassword(){if(!this.encryptPassword)return this.model.password;const e="D1F0795CC5A8D0BE60B83FF555F055CE7A44A0EC17BE365587A39696F76D4067BAE06D0026836E873CDAFC5409F1D53C6C931E6819D9B126516A5320CC30DB1B055B1AD9A2764814F8075659455A320006FD262F72B9AFE7B2778F2D20405CC9510BCE96137D56749BE169475DA6A6FAE4D955775988DFBE47A5E4B4E8494DD9C8658CE8A066D02B9C8165CD6E3C3CC803CA810B62529611A5AB87B9475322D490F9E47A1941BD8CEE395AACDC4A2E55964A03F7C575C036B79CD82490D404AE00F315A0700B8A1FE15C358FD071CDFB29761B78600ACD240DAFEB8516E1C8FF42C38C8E732DAC293FA202444FD218D5DC5DA5308D73363FCFD2EC1CF6D716EF";oo(259);const t=new jo("10001","",e);return Io(t,Vo()(this.model.password))}}},Ko=Wo,Yo=(i("d61a"),Object(d["a"])(Ko,Rn,Hn,!1,null,"a5338f7c",null)),Uo=Yo.exports,Qo=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-context-menu",on:{contextmenu:function(t){return t.preventDefault(),e.onContextMenu.apply(null,arguments)}}},[e._t("default"),t("el-menu",{ref:"menu",staticClass:"menu",style:e.menuStyle,attrs:{mode:"horizontal"},on:{select:e.onMenuSelect}},[t("el-submenu",{attrs:{index:"/"}},e._l(e.menus,(function(e,i){return t("m-context-menu-item",{key:i,attrs:{menu:e}})})),1)],1)],2)},Jo=[],Xo=function(){var e=this,t=e._self._c;return e.menu.menus?t("el-submenu",{class:["m-context-menu-item",{line:e.menu.line}],attrs:{index:e.menu.command||"",disabled:e.menu.disabled}},[t("template",{slot:"title"},[e.menu.icon?t("i",{class:e.menu.icon}):e._e(),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.menu.title))])]),e._l(e.menu.menus,(function(e,i){return t("m-context-menu-item",{key:i,attrs:{menu:e}})}))],2):t("el-menu-item",{class:["m-context-menu-item",{line:e.menu.line}],attrs:{index:e.menu.command,disabled:e.menu.disabled}},[e.menu.icon?t("i",{class:e.menu.icon}):e._e(),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.menu.title))])])},Go=[],Zo={name:"MContextMenuItem",props:{menu:Object}},es=Zo,ts=(i("5391"),Object(d["a"])(es,Xo,Go,!1,null,"11627a8f",null)),is=ts.exports,ns={name:"MContextMenu",components:{MContextMenuItem:is},props:{menus:{type:Array,default(){return[]}}},data(){return{menuStyle:{x:0,y:0}}},computed:{},methods:{onContextMenu(e){this.menuStyle={left:e.clientX+"px",top:e.clientY+"px"},this.$nextTick(()=>{this.$refs.menu.openMenu("/",["/"])})},onMenuSelect(e){this.$emit("command",e)}}},os=ns,ss=(i("e6fd"),Object(d["a"])(os,Qo,Jo,!1,null,"2e6c30b2",null)),rs=ss.exports;i("88a7"),i("271a"),i("5494");const as={filename:"",url:"",method:"get",data:null,content:null};function ls(e="",t={}){if(!e.startsWith("http")){if(!e.startsWith("/")){let t=location.pathname;t.endsWith("/")||(t+="/"),e=t+e}let t=window.__POWERED_BY_QIANKUN__?window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__:window.location.origin;e=t+e}let i=new URL(e);return Object.keys(t||{}).forEach(e=>{i.searchParams.set(e,t[e])}),console.log(i.toString()),i.toString()}function cs(e){if(B(e)&&(e={url:e}),e=Object.assign({},as,e),e.content){if(!e.filename)throw new Error("[m-ui] download.js: filename is required.");let t;if(e.content instanceof Blob)t=e.content;else{if(!B(e.content))throw new Error("[m-ui] download.js: content not support.");t=new File([e.content],{type:"text/plain;charset=utf-8"})}Wi.a.saveAs(t,e.filename)}else{if(!e.url)throw new Error("[m-ui] download.js: url is required.");if("get"===e.method.toLowerCase())Wi.a.saveAs(ls(e.url,e.data),e.filename);else{let t=document.createElement("form");t.style.display="none",t.enctype="multipart/form-data",t.target="_blank",t.method="post",t.action=ls(e.url),Object.keys(e.data||{}).forEach(i=>{let n=e.data[i],o=document.createElement("input");o.type="hidden",o.name=i,o.value=B(n)?n:JSON.stringify(n),t.appendChild(o)}),document.body.appendChild(t),t.submit(),document.body.removeChild(t)}}}cs.install=function(e){e.prototype.$download=cs};var us=cs,ds=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-scroll-nav"},[t("div",{staticClass:"nav-conatiner",class:e.navClass,style:e.navMenuStyle},[t("el-menu",{attrs:{"default-active":e.menuActive.toString(),mode:e.navMode},on:{select:e.onMenuSelect}},e._l(e.navs,(function(i,n){return t("el-menu-item",{key:n,attrs:{index:n.toString()}},[e._v(e._s(i.title))])})),1),e._t("nav")],2),e._t("default")],2)},ms=[],hs={name:"MScrollNav",props:{navs:{type:Array,default(){return[]}},navMode:{type:String,default:"horizontal",validator(e){return["horizontal","vertical"].includes(e)}},sticky:{type:Boolean,default:!0},stickyTop:{type:[Number,String],default:0},navStyle:Object,navClass:[String,Object,Array],container:{type:String,default:".main-container"}},data(){return{menuActive:0,observers:[],ratios:[],scrolling:!1}},computed:{navMenuStyle(){let e={...this.navStyle};return this.sticky&&(e.position="sticky",e.top=D(this.stickyTop)?this.stickyTop+"px":this.stickyTop),e}},watch:{navs(){if(this.observers.length){for(const e of this.observers)e.disconnect();this.observers.length=0}this.$nextTick(()=>{this.initNavs()})},menuActive(e){this.$emit("change",this.navs[e],e)}},mounted(){this.initNavs()},beforeDestroy(){for(const e of this.observers)e.disconnect()},methods:{onMenuSelect(e){let t=this.targets[e];null===t||void 0===t||t.scrollIntoView({behavior:"smooth",block:"center",inline:"start"}),this.menuActive=Number(e),clearTimeout(this.timeId),this.scrolling=!0,this.timeId=setTimeout(()=>{this.scrolling=!1},1e3)},initNavs(){let e=this.$slots.default.filter(e=>e.tag);this.targets=[];for(const[i,n]of this.navs.entries()){var t;let o=n.target?this.$el.querySelector(n.target):null===(t=e[i])||void 0===t?void 0:t.elm;this.initObserver(o,i),this.targets[i]=o,this.ratios[i]=0}},initObserver(e,t){let i=this.container?document.querySelector(this.container):null,n=new IntersectionObserver(e=>{this.ratios[t]=e[0].intersectionRatio,this.updateMenu()},{root:i,threshold:Array(10).fill(1).map((e,t)=>.1*(t+1))});n.observe(e),this.observers[t]=n},updateMenu:Ce.a.throttle((function(){if(this.scrolling)return;let e=this.menuActive;if(e>0){let t=e-1;this.ratios[t]>0&&this.ratios[t]>this.ratios[e]&&(this.menuActive=t)}if(e<this.navs.length-1){let t=e+1;this.ratios[t]>0&&this.ratios[t]>this.ratios[e]&&(this.menuActive=t)}}),20)}},ps=hs,fs=Object(d["a"])(ps,ds,ms,!1,null,"e8f31c08",null),gs=fs.exports,bs=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-chat-record"},e._l(e.chatChunk,(function(i){return t("div",{key:i.day,staticClass:"records-wrapper"},[t("div",{staticClass:"day"},[e._v(e._s(i.day))]),e._l(i.records,(function(i,n){return t("m-chat-record-item",e._b({key:i.id||n,attrs:{leftBgColor:e.leftBgColor,rightBgColor:e.rightBgColor,"content-component":e.getComp(i)}},"m-chat-record-item",i,!1))}))],2)})),0)},vs=[],ys=function(){var e=this,t=e._self._c;return t("div",{class:["m-chat-record-item",e.position]},[t("div",{staticClass:"info"},[t("span",[e._v(e._s(e.nickName))]),t("span",[e._v(e._s(e.timeStr))])]),t("div",{staticClass:"content-container"},[t("div",{staticClass:"avatar"},[t("el-avatar",{attrs:{src:e.avatar}})],1),t("div",{staticClass:"content",style:e.contentBg},[t(e.contentComponent,{tag:"component",attrs:{content:e.content,config:e.config}})],1)])])},_s=[],Cs={name:"MChatRecordItem",props:{avatar:{type:String,default:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"},nickName:{type:String,default:""},time:Number,content:{type:[String,Object],default:""},position:{type:String,default:"left",validator(e){return["left","right"].includes(e)}},leftBgColor:{type:String,default:"#eee"},rightBgColor:{type:String,default:"#9eea6a"},showNickName:{type:Boolean,default:!0},showTime:{type:Boolean,default:!0},contentComponent:{type:[String,Object],required:!0}},computed:{contentBg(){return{backgroundColor:this[this.position+"BgColor"]}},timeStr(){return b()(this.time).format("HH:mm")},config(){return{avatar:this.avatar,nickName:this.nickName,time:this.time,content:this.content,position:this.position,showNickName:this.showNickName,showTime:this.showTime}}}},ws=Cs,xs=(i("1820"),Object(d["a"])(ws,ys,_s,!1,null,"5253643a",null)),Ss=xs.exports,ks=function(){var e=this,t=e._self._c;return t("span",{staticClass:"m-chat-text-item"},[t("span",[e._v(e._s(e.lines[0]))]),e._l(e.lines.slice(1),(function(i){return t("span",{key:i},[t("br"),e._v(" "+e._s(i)+" ")])}))],2)},$s=[],Ns={name:"MChatTextItem",props:{content:String,config:Object},computed:{lines(){var e;return(null===(e=this.content)||void 0===e?void 0:e.split("\n"))||[]}}},Ms=Ns,Bs=Object(d["a"])(Ms,ks,$s,!1,null,"67e3a346",null),Ds=Bs.exports,As=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-chat-image-item"},[t("el-image",{attrs:{src:e.content.url,"preview-src-list":[e.content.url]}})],1)},Os=[],Es={name:"MChatImageItem",props:{content:Object,config:Object}},Fs=Es,zs=(i("451b"),Object(d["a"])(Fs,As,Os,!1,null,"6dda5be2",null)),Ps=zs.exports;const Ts={text:Ds,image:Ps};var js={name:"MChatRecord",components:{MChatRecordItem:Ss},props:{data:{type:Array,default(){return[]}},customComponent:{type:Object},leftBgColor:String,rightBgColor:String},computed:{chatChunk(){var e;if(null===(e=this.data)||void 0===e||!e.length)return[];let t=Ce.a.chain(this.data).groupBy(e=>b()(e.time).format("YYYY年MM月DD日")).toPairs().sortBy(0).map(([e,t])=>(t.sort((e,t)=>e.time-t.time),{day:e,records:t})).value();return Object.freeze(t)}},mounted(){},methods:{getComp(e){return this.customComponent&&this.customComponent[e.type]?this.customComponent[e.type]:Ts[e.type]}}},Is=js,Ls=(i("de0e"),Object(d["a"])(Is,bs,vs,!1,null,"0767cf1b",null)),Vs=Ls.exports,Rs=(i("5717"),{install(e,t){y(t),e.component(h.name,h),e.component(Q.name,Q),e.component(de.name,de),e.component(ye.name,ye),e.component(qe.name,qe),e.component(st.name,st),e.component(dt.name,dt),e.component(kt.name,kt),e.component(It.name,It),e.component(ei.name,ei),e.component(ri.name,ri),e.component(Di.name,Di),e.component(Ti.name,Ti),e.component(Hi.name,Hi),e.component(sn.name,sn),e.component(hn.name,hn),e.component(yn.name,yn),e.component(kn.name,kn),e.component(An.name,An),e.component(Vn.name,Vn),e.component(Uo.name,Uo),e.component(rs.name,rs),e.component(gs.name,gs),e.component(Vs.name,Vs),e.use(se),e.use(Ee),e.use(Ge),e.use(us)}}),Hs=i("8c4f"),qs=function(){var e=this,t=e._self._c;return t("m-layout",{attrs:{menus:e.menus,"menu-config":e.menuConfig,"menu-default-active":e.menuDefaultActive,collapse:e.asideCollapse,"account-info":e.accountInfo},on:{"update:collapse":function(t){e.asideCollapse=t}},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" header ")]},proxy:!0}])},[t("div",[t("m-view-tags"),t("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[t("keep-alive",{attrs:{include:e.cacheViews}},[t("router-view")],1)],1)],1)])},Ws=[];const Ks=[{index:"/home",title:"主页",icon:"el-icon-s-home"},{index:"/table",title:"表格",icon:"el-icon-s-order"},{index:"/form",title:"表单",icon:"el-icon-document"}];var Ys={data(){return{menus:Ks,menuDefaultActive:"",menuConfig:{router:!0},asideCollapse:!1,accountInfo:{account:"root"}}},computed:{cacheViews(){return this.$store.state.cacheViews.map(e=>e.name)}},watch:{$route:{handler(){const{path:e,meta:t,name:i}=this.$route;this.menuDefaultActive=(null===t||void 0===t?void 0:t.activeMenu)||e,i&&this.$store.commit("ADD_CACHE_VIEW",this.$route)},immediate:!0}}},Us=Ys,Qs=(i("4bba"),Object(d["a"])(Us,qs,Ws,!1,null,"5f9e4c64",null)),Js=Qs.exports,Xs=function(){var e=this,t=e._self._c;return t("div",[e._v("home")])},Gs=[],Zs={naem:"home"},er=Zs,tr=Object(d["a"])(er,Xs,Gs,!1,null,"5f64ae55",null),ir=tr.exports,nr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("m-pro-table",{ref:"proTable",attrs:{columns:e.columns,fetch:e.fetch,"fixed-bottom":24,"query-model":e.query,"query-fields":e.queryFields,"show-refresh":"","show-size":"","column-setting":"","column-cache-key":"table-columnn-key","show-fullscreen":"",title:"我的表格"},scopedSlots:e._u([{key:"tools",fn:function(){return[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.onCreate}},[e._v("新增")]),t("el-button",{attrs:{size:"small",type:"danger"},on:{click:e.onDelete}},[e._v("删除")])]},proxy:!0},{key:"gender",fn:function({row:i}){return[t("span",{class:i.gender},[e._v(e._s(i.gender))])]}},{key:"opreation",fn:function({row:i}){return[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.onEdit(i)}}},[e._v("编辑")])]}}])}),t("m-dialog-form",{attrs:{visible:e.dialogVisible,fields:e.dialogFormFields,title:e.dialogTitle,"default-model":e.defaultItem,"model-value":e.editItem,"create-fn":e.createItem,"update-fn":e.updateItem,size:"small"},on:{"update:visible":function(t){e.dialogVisible=t},saved:()=>e.$refs.proTable.fetchData()}})],1)},or=[],sr=i("96eb"),rr=i.n(sr),ar={name:"table",data(){return{columns:[{label:"姓名",prop:"name"},{label:"性别",prop:"gender",slotName:"gender"},{label:"年龄",prop:"age",formatter:e=>e.age+"岁"},{label:"出生日期",prop:"born",headerTips:"十位时间戳"},{label:"操作",prop:"opreation",slotName:"opreation"}],query:{name:"",gender:null,age:null,born:[]},queryFields:[{label:"姓名",prop:"name",component:"el-input"},{label:"性别",prop:"gender",component:"m-select",componentProps:{options:[{label:"男",value:1},{label:"女",value:2}]}},{label:"年龄",prop:"age",component:"el-input",componentProps:{type:"number"}},{label:"出生",prop:"born",component:"m-date-picker",componentProps:{type:"daterange"}}],dialogFormFields:[{label:"姓名",prop:"name",component:"el-input",rules:[{required:!0,message:"请输入姓名"}]},{label:"性别",prop:"gender",component:"m-select",componentProps:{class:"w-100",options:[{label:"男",value:1},{label:"女",value:2}]},rules:[{required:!0,message:"请选择性别"}]},{label:"年龄",prop:"age",component:"el-input",componentProps:{type:"number"}},{label:"出生",prop:"born",component:"m-date-picker",componentProps:{class:"w-100"}}],dialogVisible:!1,editItem:null,defaultItem:{name:"",gender:null,age:null,born:null}}},computed:{dialogTitle(){return this.editItem?"编辑":"新增"}},methods:{fetch(e){console.log("fetch",e);let t=rr.a.mock({total:300,"data|30":[{name:"@first","gender|+1":["male","female"],"age|1-100":100,"born|1000000000-2000000000":1e9}]});return new Promise(i=>{setTimeout(()=>{let n={ret:0,msg:"success",data:{data:[],total:300}};e.pageNum<=10&&(n.data=t),i(n)},3e3*Math.random())})},onEdit(e){this.editItem=e,this.dialogVisible=!0},onCreate(){this.editItem=null,this.dialogVisible=!0},onDelete(){let e=this.$refs.proTable.getSelection();e.length?(this.$message.success("删除成功"),this.$refs.proTable.fetchData()):this.$message.error("请选择要删除的数据")},async createItem(){return await n.delay(1e3),rr.a.mock("@integer")},async updateItem(){await n.delay(1e3)}}},lr=ar,cr=(i("3b73"),Object(d["a"])(lr,nr,or,!1,null,"a5f6027c",null)),ur=cr.exports,dr=function(){var e=this,t=e._self._c;return t("div",[e._v("form")])},mr=[],hr={name:"form"},pr=hr,fr=Object(d["a"])(pr,dr,mr,!1,null,"475d30aa",null),gr=fr.exports,br=function(){var e=this,t=e._self._c;return t("m-exception",{attrs:{type:"403"}})},vr=[],yr={},_r=yr,Cr=Object(d["a"])(_r,br,vr,!1,null,"61ae1697",null),wr=Cr.exports,xr=function(){var e=this,t=e._self._c;return t("m-exception",{attrs:{type:"404"}})},Sr=[],kr={},$r=kr,Nr=Object(d["a"])($r,xr,Sr,!1,null,"c482f0ce",null),Mr=Nr.exports;o["default"].use(Hs["a"]);var Br=new Hs["a"]({mode:"hash",routes:[{path:"/403",component:wr},{path:"/",component:Js,redirect:"home",children:[{path:"home",component:ir,name:"home",meta:{title:"首页"}},{path:"table",component:ur,name:"table",meta:{title:"表格"}},{path:"form",component:gr,name:"form",meta:{title:"表单"}}]},{path:"*",component:Mr}]}),Dr=function(){var e=this,t=e._self._c;return t("router-view")},Ar=[],Or={},Er=Or,Fr=(i("5cbe"),Object(d["a"])(Er,Dr,Ar,!1,null,null,null)),zr=Fr.exports,Pr=i("2f62");o["default"].use(Pr["a"]);const Tr={cacheViews:[]},jr={ADD_CACHE_VIEW(e,t){let i=e.cacheViews.findIndex(e=>e.name===t.name);i<0?e.cacheViews.push(t):o["default"].set(e.cacheViews,i,t)},REMOVE_CACHE_VIEW(e,t){let i=n.isString(t)?t:t.name,o=e.cacheViews.findIndex(e=>e.name===i);o>=0&&e.cacheViews.splice(o,1)}},Ir={},Lr=new Pr["a"].Store({state:Tr,mutations:jr,actions:Ir});var Vr=Lr;o["default"].use(r.a),o["default"].use(Rs),new o["default"]({...zr,router:Br,store:Vr}).$mount("#app")},c325:function(e,t,i){e.exports=i.p+"img/browser.a6036c0f.svg"},d2d6:function(e,t,i){"use strict";i("5a39")},d61a:function(e,t,i){"use strict";i("9995")},d821:function(e,t,i){"use strict";i("7202")},d9c4:function(e,t,i){e.exports=i.p+"img/safari.0bfcb3f0.svg"},de0e:function(e,t,i){"use strict";i("9059")},e6fd:function(e,t,i){"use strict";i("e87c")},e7f5:function(e,t,i){},e87c:function(e,t,i){},f77a:function(e,t,i){},f7a9:function(e,t,i){e.exports=i.p+"img/edge.4877e366.svg"},f963:function(e,t,i){e.exports=i.p+"img/403.a96db9ea.svg"}});
//# sourceMappingURL=index.48891363.js.map